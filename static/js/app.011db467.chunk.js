(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var r=n(23),o=n.n(r),a=n(81),l=function(){var e=o()((function*(e){try{var t=yield a.default.getItem(e);return null!=t?JSON.parse(t):null}catch(n){}}));return function(t){return e.apply(this,arguments)}}();t.default=l},124:function(e){e.exports=JSON.parse('{"JYH":{"code":"JYH","name":"Yong Hwa","profile":"https://lh3.googleusercontent.com/drive-viewer/AFDK6gMdiOc5I_ysCFVWjUqEreWIu8ETtGaY0xL_9LGw15ooc29tUdzBx9_d_IYSh5S6_i5KGbs1Lm_vFJ00QL4FBDwD3dRPAw","profileDownload":"https://drive.google.com/file/d/1IVZKCEzfr0MtUIibcn3dEAntJnDyLubH/view","background":"https://lh3.googleusercontent.com/drive-viewer/AFDK6gOO2TfK3odUaBK6RRl8yrIfKjjQN93dt9hfz98ip1j-VFUfNn8E7nRuIGMEho12KdgvH4_4NBQOMyrmHxiwVmHxO9t0xw","backgroundDownload":"https://drive.google.com/file/d/1ntWDGWs2hQlnX93sy2ulwPDEALvWnY7K/view","status":"JUNG YONG HWA \uc785\ub2c8\ub2e4\ud83e\udd19\ud83c\udfff\ud83e\udd19\ud83c\udfff","hasMediaMeta":true},"KMH":{"code":"KMH","name":"\uac15\ubbfc\ud601","profile":"https://lh3.googleusercontent.com/drive-viewer/AFDK6gO2UF99RFSWRWLN6ugXzaIoHf7yTX64SBURmlb-MAhXxvCXhIThZ3yJP8KGYrV3YFpnP7H_xvsGiwltNKA4e8BlTf9tJA","profileDownload":"https://drive.google.com/file/d/191WKrnSSckIH7uzamsMf5_18V-Oq7fnn/view","background":"https://lh3.googleusercontent.com/drive-viewer/AFDK6gPdZoWznGW3MqT-y8NZc_hRa8zmc-TN5UbIuu3FonLTCcituoQLQ3yRX27A4EC1Fa4Ok2SSSjclz0H1Wz2PHQVHWE24Wg","backgroundDownload":"https://drive.google.com/file/d/1mHLAIPDHoV1JKsEdoNY0MV9zwV_Kj410/view","status":"CNBLUE","hasMediaMeta":false},"LJS":{"code":"LJS","name":"\uc815\uc2e0\uc624\ube60","profile":"https://lh3.googleusercontent.com/drive-viewer/AFDK6gMU57GZRrFCZzR0Cnq_qygm6TWsUk7d4x-e0OTXKNj69dwK26JKkFNY-pIWgPa0H6jqp762fZGyGWvA5E0edcylHep1xA","profileDownload":"https://drive.google.com/file/d/1b0PBOVCRxZRqHkx0wIKhHofRDWRL2bYy/view","background":"","backgroundDownload":"","status":"\uc548\ub155?","hasMediaMeta":false},"LSH":{"code":"LSH","name":"\ud600\ube44","profile":"https://lh3.googleusercontent.com/drive-viewer/AFDK6gOGLoOKDaYkwccWnWDLMAaFbtYXOpZVp1ImUN1yyOeG9FaRjQrnMdnbKGatZZguWHnXc-lQgsgrmstEZ_hMiEe4mWF_Cw","profileDownload":"https://drive.google.com/file/d/1BKmvYCIhd2LJV8FHt1ZQ1hB8b93_fNsA/view","background":"","backgroundDownload":"","status":"\u0a6f\u2027\u0300\u0361u\\\\","hasMediaMeta":true},"CH":{"code":"CH","name":"\uace0\uba10\ubbf8\ud83d\ude38","profile":"https://lh3.googleusercontent.com/drive-viewer/AFDK6gOqyNCwmpLlQs9PsoNeIdWiYhuAcZ8AyWAToT_E26Uj4m9PzlIiorWpEICdjqbSOVtEszYxkgd4flSmLV3zyEtLXVYb","profileDownload":"https://drive.google.com/file/d/1HMG3C_5_UkWQFNYU6nO28SU9a59X_bym/view","background":"","backgroundDownload":"","status":"\uc5b4\ub51c \ubcf4\uc2dc\ub294\uac70\uc8e0? \uadf8\uac74 \uc81c \uc794\uc0c1\uc785\ub2c8\ub2e4\ub9cc?\ud83d\ude3c","hasMediaMeta":true},"KJH":{"code":"KJH","name":"\uae40\uc7ac\ub618","profile":"https://lh3.googleusercontent.com/drive-viewer/AFDK6gNCtYi5hu5jbJXeaNt23CHva13ShrbgjNFFs-QUED_E7SW7Fm1kFFgvhROj4sLi4452iNm0rZDIAX9LlXziix2yZEVVGA","profileDownload":"https://drive.google.com/file/d/1-i0qXJXHG0b-l07w0SGTea_c_f-6WsY8/view","background":"","backgroundDownload":"","status":"\uc790\uc544\uc544\uc54c\ubd80\ud0c1\ub4dc\ub9bd\ub2c8\ub2e4 v\u3147\u3145\u3147v","hasMediaMeta":true},"YHS":{"code":"YHS","name":"\uc720\ub9d0\ub791","profile":"https://lh3.googleusercontent.com/drive-viewer/AFDK6gO0C3RWm5pYc_fN5THx7G8ubRQOQsRURetnN265hWcflcHIuXIWlr4gHDwTUObM1qOHZ2ZFZxLcFNCeN2H-5FRBHTmPgQ","profileDownload":"https://drive.google.com/file/d/14Cl9SjI-2oPe65cUI2JUwOm5IPKW91yV/view","background":"","backgroundDownload":"","status":"2022\ub144 \uc65c \ubc8c\uc368 \ud55c\ub2ec\ub0a8\uc558\uc8e0?","hasMediaMeta":false},"SDS":{"code":"SDS","name":"\uc11c\ub3d9\uc131 \ud83e\udd73","profile":"https://lh3.googleusercontent.com/drive-viewer/AFDK6gOhUOKq2M5zvAhV2bNNiMbzPVJE_Cub-nMFkqDqb6M-DQOY8PlMiP_Gbo5mcBTj7ONZAG09P4y5tQGZaedOU2muasjAxw","profileDownload":"https://drive.google.com/file/d/1ftHti_pCiN3eQwDdYOjm4XUx6dWRD4a-/view","background":"","backgroundDownload":"","status":"\uba54\ub9ac\ud06c\ub9ac\uc2a4\ub9c8\uc2a4\ud83c\udf81","hasMediaMeta":false}}')},146:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));n(258);var r=n(264),o=n(262),a=n(263),l=n(124),i=n(2),s=Object(o.default)(),c=Object(a.default)(),d=function(e){e.navigation,e.route;return Object(i.jsxs)(c.Navigator,{screenOptions:{tabBarLabelPosition:"beside-icon",tabBarIconStyle:{display:"none"}},children:[Object(i.jsx)(c.Screen,{name:"Archive",getComponent:function(){return n(231).default},initialParams:{Artists:l}}),Object(i.jsx)(c.Screen,{name:"My Chats",getComponent:function(){return n(259).default},initialParams:{Artists:l}})]})};function u(){return Object(i.jsx)(r.default,{children:Object(i.jsxs)(s.Navigator,{children:[Object(i.jsx)(s.Screen,{name:"Home",component:d,options:{headerShown:!1}}),Object(i.jsx)(s.Screen,{name:"ChatRoom",getComponent:function(){return n(261).default},options:function(e){return{title:e.route.params.nickname,headerTitleAlign:"center"}}}),Object(i.jsx)(s.Screen,{name:"Profile",getComponent:function(){return n(255).default},options:{headerShown:!1,presentation:"modal"}})]})})}},15:function(e,t,n){"use strict";n.r(t);var r=n(4).default.create({profileImg:{width:40,height:40,borderRadius:20,marginTop:2},artistName:{color:"black",marginBottom:5,fontSize:12},time:{fontSize:10,color:"darkgrey",paddingBottom:2,fontWeight:"400"},text:{paddingTop:8,paddingBottom:10,paddingHorizontal:12,lineHeight:21,fontSize:14.8,borderRadius:14,maxWidth:270},date:{color:"grey",textAlign:"center",fontSize:11,borderColor:"lightgrey",borderTopWidth:.5,padding:5,marginVertical:10},container:{backgroundColor:"#FFFFFF",flex:1,paddingHorizontal:20,paddingVertical:10},profile:{width:50,height:50,borderRadius:25},profileContainer:{borderRadius:28,borderColor:"#e54132",borderWidth:1.5,padding:2},centeredContainer:{alignItems:"center",justifyContent:"center"},addButton:{width:60,height:60,borderRadius:30,borderColor:"lightgray",borderWidth:.5},buttonText:{color:"darkgray",fontSize:40,fontWeight:"400",textAlign:"center"},modal:{width:250,height:200,padding:15,backgroundColor:"#FFF",borderRadius:15,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},okButton:{backgroundColor:"#e54132",color:"#FFF",textAlign:"center",padding:8,margin:5,borderRadius:5},cancelButton:{color:"#e54132",textAlign:"center",borderColor:"#e54132",padding:8,margin:5,borderRadius:5},modalTitle:{fontWeight:"bold",color:"gray",fontSize:15,marginBottom:10},fileSelectButton:{textAlign:"center",paddingHorizontal:10,paddingVertical:5,marginBottom:15,backgroundColor:"gray",borderRadius:5,color:"#FFF",fontWeight:"bold"},buttonContainer:{flex:1,justifyContent:"center"},textinput:{borderColor:"lightgray",borderBottomWidth:1}});t.default=r},193:function(e,t,n){e.exports=n(260)},231:function(e,t,n){"use strict";n.r(t);var r=n(19),o=n(1),a=n(80),l=n(32),i=n(33),s=n(15),c=n(2);t.default=function(e){var t=e.navigation,n=e.route.params.Artists;return Object(c.jsx)(o.default,{style:s.default.container,children:Object(c.jsx)(a.default,{data:Object.values(n),renderItem:function(e){var n=e.item;return Object(c.jsx)(o.default,{style:{marginBottom:15,height:65},children:Object(c.jsxs)(l.default,{style:{flexDirection:"row"},onPress:function(){t.navigate("Profile",{artist:n})},children:[Object(c.jsxs)(o.default,{children:[Object(c.jsx)(o.default,{style:s.default.profileContainer,children:Object(c.jsx)(i.default,{source:{uri:n.profile},style:s.default.profile})}),Object(c.jsx)(o.default,{style:{flex:1}})]}),Object(c.jsx)(o.default,{style:{marginHorizontal:10,justifyContent:"center"},children:Object(c.jsx)(r.default,{style:{fontWeight:"bold",fontSize:16},children:n.name})}),Object(c.jsx)(o.default,{style:{justifyContent:"center",flex:1,alignItems:"flex-end"},children:Object(c.jsx)(r.default,{style:{color:"darkgray",fontSize:12},numberOfLines:2,ellipsizeMode:"tail",children:n.status})})]})})}})})}},249:function(e,t){},253:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAzRJREFUeF7tW4F10zAQjSeATsAIbSegnYAyAe0GyQS4EyQb4E4ATNAwAekGbEA7Qfi/T+YpquSTZVmI5vSenxNHJ919/zuf5EuzOPLWHLn9CwVgKgOWy+UVxviM4y2O1Waz+TZ1zCH53PNNZgAU+gWF3xmldwDgfGYAss6XA4C9bTAAmDymwICs801WFgzIqpDEntzzKQAS4tLvue9I6fmUARLi/e+r1erDfr8/w/cLHDzzsVdTe4QyOxzbpml26/X6e4xyIgNAcRr7xRgdM2YtfQjGDZ5KPAfbIAAwnglOW4tFiXq0AOE2JBsEAMbTcALwGhoz1I3PEC8AhvY/PQJ3uNbR1zAefW5Ry1MAejAm0V2vcXzy6H7uc4cQADSeg/XtCR+uMMDWHbgWAGy9oNMFvnNN8sa67k3TXwBgFhtfHUMvfcbXxADPjSEI9871j+5izQdACyHb9+8gRFp5W40M6BWFbp3jDrewhfb9bT4ASPP3Vp/g3a+ZAUY3lwU/AACvDQLwG7/aSc5JH/B8FHCWww/oa8eOEHGSr4+ZzwRG2tO3R+h3IgEwanVnYgZpRdCWhTZEoueTXNTnAqMASL6VhQQVAGG/QhngMlGiTCHmZptGskdkQDZNKhnI3bNUANQFHAQkn6mEydFqSPaILjD3Pn+0JYkdFQDNA4Zf3KgLpD4F4FtbyNrLZnuoLWLHZWD1WFpucG2TzAA3uLjGhoLnv5YbnQjVakgq4AqA8/peXWCmIPhi762fRwiec8jNEwQTE7PiYpoJaiaomeA8MUAzQce3UhOT0nKaCGkidFjIqZmgZoK6KXqIAB5vrP2xS0sGX48Xz21HTOh5Pf6Ep8BBfePkAokR+hTvamqF7DKZqAKJFppGl8gUt2rEhKklMvwHSHSR1Ah9inb13H3OLxdJsReEWV56amnMuEBhbmhW34zxvIm2v3vLd8YWSnYoRO5QNM3Bngsla2kMeNDtFLpdQycebosvlDQsaHE+zlLZHjqg+hpACNYJ087YcvnOiQm1MH9Ijwe6wqRyeXt0Uw5n/2HCTpZqAIT1zM9/mOA5tlxPZEANls2pgwIwJ7r/w9hHz4A/XA2zXwD9SZ8AAAAASUVORK5CYII="},254:function(e,t,n){e.exports=n.p+"static/media/Search.11815d46.png"},255:function(e,t,n){"use strict";n.r(t);var r=n(11),o=n.n(r),a=n(19),l=n(1),i=n(32),s=n(33),c=n(79),d=n(58),u=n(15),f=n(69),h=n(0),j=n(2);t.default=function(e){var t=e.navigation,r=e.route.params.artist,b=Object(h.useState)(!1),g=o()(b,2),m=g[0],x=g[1];return Object(j.jsxs)(i.default,{style:{flex:1},onPress:function(){r.background&&Object(f.openURL)(r.backgroundDownload)},children:[r.background?Object(j.jsx)(s.default,{source:{uri:r.background},style:{flex:1}}):Object(j.jsx)(l.default,{}),Object(j.jsxs)(l.default,{style:{backgroundColor:"#00000050",position:"absolute",top:0,width:"100%",height:"100%"},children:[Object(j.jsx)((function(){var e;return Object(j.jsx)(c.default,{transparent:!0,animationType:"fade",visible:m,onRequestClose:function(){x(!m)},children:Object(j.jsx)(l.default,{style:[{flex:1,backgroundColor:"#00000055"},u.default.centeredContainer],children:Object(j.jsxs)(l.default,{style:u.default.modal,children:[Object(j.jsx)(a.default,{style:u.default.modalTitle,children:"\ub0b4 \ub2c9\ub124\uc784 \uc124\uc815"}),Object(j.jsx)(l.default,{style:[{flex:1},u.default.centeredContainer],children:Object(j.jsx)(d.default,{onChangeText:function(t){e=t},placeholder:"\ub2c9\ub124\uc784 \uc785\ub825",style:[u.default.textinput,{width:"100%"}]})}),Object(j.jsxs)(l.default,{style:{flexDirection:"row"},children:[Object(j.jsx)(i.default,{style:u.default.buttonContainer,onPress:function(){e="",x(!m)},children:Object(j.jsx)(a.default,{style:u.default.cancelButton,children:"\ucde8\uc18c"})}),Object(j.jsx)(i.default,{style:u.default.buttonContainer,onPress:function(){x(!m),t.navigate("ChatRoom",{artist:r,nickname:r.name,full:!0,userName:e})},children:Object(j.jsx)(a.default,{style:u.default.okButton,children:"\ud655\uc778"})})]})]})})})}),{}),Object(j.jsx)(i.default,{onPress:function(){return t.goBack()},children:Object(j.jsx)(s.default,{source:n(256),style:{marginTop:45,marginLeft:25}})}),Object(j.jsxs)(l.default,{style:{position:"absolute",bottom:0,alignItems:"center",width:"100%"},children:[Object(j.jsx)(i.default,{onPress:function(){Object(f.openURL)(r.profileDownload)},children:Object(j.jsx)(s.default,{source:{uri:r.profile},style:{width:120,height:120,borderRadius:60}})}),Object(j.jsx)(a.default,{style:{fontSize:18,margin:10,color:"white"},children:r.name}),Object(j.jsx)(a.default,{style:{color:"lightgray"},children:r.status}),Object(j.jsx)(i.default,{style:{width:"100%",marginTop:70},onPress:function(){x(!m)},children:Object(j.jsx)(a.default,{style:[u.default.okButton,{margin:25,padding:15,fontSize:15.5}],children:"\uc804\uccb4 \ucc44\ud305 \ubcf4\uae30"})})]})]})]})}},256:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABHNCSVQICAgIfAhkiAAAANdJREFUSEu11lEOwiAMBmAbdzJN9Mx72b1MTLAsdkHW0r+AexnJtn5QoIxSSk8iWi9/ujj+g3JsbiSG9vasi0NeOdaLwy5H4JlQCeRO//R+BlQDJ2Q0dRqgIr2QBZhIFGoBTQSFPMBFPAgBIMSCUABGaigChBCB+L7ITkarQ6iUfEfwjpYgGClTFK0MEKLNQQRykdYko1ATQVYRApkIAsjq8iAViQAIdEJ6AA+qD63jyEQ3Wv2elrry+B0GrBHJj8Q0QINoZA68lErqMnLjWrR5H/Q+5/j3D2qIv50glRFzAAAAAElFTkSuQmCC"},259:function(e,t,n){"use strict";n.r(t);var r,o=n(11),a=n.n(o),l=n(23),i=n.n(l),s=n(19),c=n(1),d=n(80),u=n(32),f=n(33),h=n(79),j=n(0),b=n(189),g=n(15),m=n(107),x=n(81),y=function(){var e=i()((function*(e){var t=e.value,n=e.storageKey;try{var r=JSON.stringify(t);yield x.default.setItem(n,r)}catch(o){}}));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t,n=new Date(e);switch(n.getDay()){case 0:t="\uc77c\uc694\uc77c";break;case 1:t="\uc6d4\uc694\uc77c";break;case 2:t="\ud654\uc694\uc77c";break;case 3:t="\uc218\uc694\uc77c";break;case 4:t="\ubaa9\uc694\uc77c";break;case 5:t="\uae08\uc694\uc77c";break;case 6:t="\ud1a0\uc694\uc77c"}return n.getFullYear()+"\ub144 "+(n.getMonth()+1)+"\uc6d4 "+n.getDate()+"\uc77c "+t},O=function(e){for(var t=e.length,n=0;n<t-1;n++)if(e[n].isMedia){for(var r=1,o=!1,a=1;a<t-n;a++)e[n].content==e[n+a].content&&(o=!0,e[n+a].content=e[n+a].content+"_"+r++);o&&(e[n].content=e[n].content+"_0")}return e},A=function(e){var t={};e.forEach((function(e){void 0==t[e.date]?t[e.date]={message:[e.message]}:t[e.date].message.push(e.message)}));var n=[];for(var r in t)n.push({date:p(r),data:O(t[r].message)});return console.log("data sort done."),n},v=function(e){var t;switch(e[5]){case"P":t="\uc624\ud6c4 ";break;default:t="\uc624\uc804 "}switch(e[0]){case"0":t+=e.slice(1,5);break;default:t+=e.slice(0,5)}return t},w=function(e){var t=e.replace(" ","T"),n=new Date(t.slice(0,16)+":00.000+09:00");return 16!=e.length&&("12"!=e.slice(11,13)&&"P"==e[16]?n.setHours(n.getHours()+12):"12"==e.slice(11,13)&&"A"==e[16]&&n.setHours(n.getHours()-12)),n.valueOf()},C=function(e){var t=e.split(" : "),n=t[0].split(", "),r=n[0].split(" "),o=r[0],a=v(r[1]),l="\ub098"!=n[1],i=!1,s=t[1];if(t[2])for(var c=2;t[c];c++)s+=" : "+t[c];return s.includes("(\uc0ac\uc9c4)")?(i=!0,s="pic_"+w(n[0])):s.includes("(\uc74c\uc131)")||s.includes("(\uc74c\uc131 \uba54\uc2dc\uc9c0)")?(i=!0,s="voice_"+w(n[0])):s.includes("(\ub3d9\uc601\uc0c1)")&&(i=!0,s="vid_"+w(n[0])),{date:o,message:{time:a,isMedia:i,content:s,fromArtist:l}}},k=function(){var e=i()((function*(e){try{yield x.default.removeItem(e)}catch(t){}console.log("Done.")}));return function(t){return e.apply(this,arguments)}}(),S=function(e){switch(e){case"Yong Hwa":return console.log("Artist: \uc815\uc6a9\ud654"),"JYH";case"\uac15\ubbfc\ud601":return console.log("Artist: \uac15\ubbfc\ud601 Code: KMH"),"KMH";case"\uc815\uc2e0\uc624\ube60":return console.log("Artist: \uc774\uc815\uc2e0"),"LJS";case"\ud600\ube44":return console.log("Artist: \uc774\uc2b9\ud611"),"LSH";case"\uace0\uba10\ubbf8\ud83d\ude38":return console.log("Artist: \ucc28\ud6c8"),"CH";case"\uae40\uc7ac\ub618":return console.log("Artist: \uae40\uc7ac\ud604"),"KJH";case"\uc720\ub9d0\ub791":return console.log("Artist: \uc720\ud68c\uc2b9"),"YHS";case"\uc11c\ub3d9\uc131 \ud83e\udd73":return console.log("Artist: \uc11c\ub3d9\uc131"),"SDS";case"\uc774\uc5ec\ub984 \uadf8\uc7a1\ucc44":return console.log("Artist: \uc124\ud604"),"SH"}},R=n(2),H=function(){var e=i()((function*(e){var t=[];if(null!=(r=yield Object(m.default)("myChats")))for(var n in r)t.push({artist:e[n],nickname:r[n].nickname,lastMessage:r[n].lastMessage});else r={};return t}));return function(t){return e.apply(this,arguments)}}();t.default=function(e){var t=e.navigation,n=e.route;Artists=n.params.Artists;var o=Object(j.useState)([]),l=a()(o,2),m=l[0],x=l[1],p=function(){var e=i()((function*(){x(yield H(Artists))}));return function(){return e.apply(this,arguments)}}();Object(j.useEffect)((function(){p()}),[]);var O=Object(j.useState)(!1),v=a()(O,2),w=v[0],D=v[1],F=Object(j.useState)([]),I=a()(F,2),M=I[0],T=I[1],L=Object(j.useState)(),N=a()(L,2),W=N[0],E=N[1],z=function(){var e=i()((function*(){var e=yield b.getDocumentAsync({});fetch(e.uri).then((function(e){e.text().then((function(e){var t=e.match(/.*\ub2d8/)[0];E(t.slice(0,t.length-1).match(/[^\[].*[^\] ]/)[0]);for(var n=e.split("\n"),r=[],o=0;o<n.length;o++)if(n[o]=n[o].replace(/\r$/,""),n[o].match(/^(?:20\d{2}-\d{2}-\d{2} \d{2}:\d{2})/g)){for(var a=n[o];n[o+1]&&!n[o+1].match(/^(?:20\d{2}-\d{2}-\d{2} \d{2}:\d{2})/g);)a+="\n"+n[++o];r.push(a)}T(r)}))}))}));return function(){return e.apply(this,arguments)}}();return Object(R.jsxs)(c.default,{style:g.default.container,children:[Object(R.jsx)(h.default,{transparent:!0,animationType:"fade",visible:w,onRequestClose:function(){E(""),T([]),D(!w)},children:Object(R.jsx)((function(){return Object(R.jsx)(c.default,{style:[{flex:1,backgroundColor:"#00000055"},g.default.centeredContainer],children:Object(R.jsxs)(c.default,{style:g.default.modal,children:[Object(R.jsx)(s.default,{style:g.default.modalTitle,children:"\ub0b4 \ucc44\ud305 \ubd88\ub7ec\uc624\uae30"}),Object(R.jsxs)(c.default,{style:[g.default.centeredContainer,{flex:1}],children:[Object(R.jsx)(u.default,{onPress:z,children:Object(R.jsx)(s.default,{style:g.default.fileSelectButton,children:"\ud30c\uc77c \uc120\ud0dd"})}),Object(R.jsxs)(s.default,{style:W?{display:"flex"}:{display:"none"},children:[W,"\ub2d8\uacfc\uc758 \ucc44\ud305"]})]}),Object(R.jsxs)(c.default,{style:{flexDirection:"row"},children:[Object(R.jsx)(u.default,{style:g.default.buttonContainer,onPress:function(){E(""),T([]),D(!w)},children:Object(R.jsx)(s.default,{style:g.default.cancelButton,children:"\ucde8\uc18c"})}),Object(R.jsx)(u.default,{style:g.default.buttonContainer,onPress:function(){var e=function(){var e=M[M.length-1].split(" : ")[1],t=M[0].split(" : ")[0].split(", ")[1];console.log(t);var n=S(t);console.log(n),r[n]={nickname:W,lastMessage:e},y({value:r,storageKey:"myChats"});var o=[];return console.log(n),M.forEach((function(e){return o.push(C(e))})),y({value:A(o),storageKey:n}),n}();D(!w),p(),t.navigate("ChatRoom",{artist:Artists[e],nickname:W,full:!1,userName:""})},children:Object(R.jsx)(s.default,{style:g.default.okButton,children:"\ud655\uc778"})})]})]})})}),{})}),Object(R.jsx)(d.default,{data:m,renderItem:function(e){var n=e.item;return Object(R.jsx)(c.default,{style:{marginBottom:15,height:65},children:Object(R.jsxs)(u.default,{style:{flexDirection:"row"},onPress:function(){t.navigate("ChatRoom",{artist:n.artist,nickname:n.nickname,full:!1,userName:""})},children:[Object(R.jsxs)(c.default,{children:[Object(R.jsx)(c.default,{style:g.default.profileContainer,children:Object(R.jsx)(f.default,{source:{uri:n.artist.profile},style:g.default.profile})}),Object(R.jsx)(c.default,{style:{flex:1}})]}),Object(R.jsxs)(c.default,{style:{marginLeft:10,flex:1},children:[Object(R.jsx)(s.default,{style:{fontWeight:"bold",fontSize:16,marginBottom:2},children:n.nickname}),Object(R.jsx)(s.default,{style:{color:"darkgray",fontSize:12},numberOfLines:2,ellipsizeMode:"tail",children:n.lastMessage})]})]})})}}),Object(R.jsxs)(c.default,{style:g.default.centeredContainer,children:[Object(R.jsx)(u.default,{style:[g.default.addButton,g.default.centeredContainer],onPress:function(){D(!w)},children:Object(R.jsx)(s.default,{style:g.default.buttonText,children:"+"})}),Object(R.jsx)(u.default,{style:[g.default.addButton,g.default.centeredContainer],onPress:function(){k("myChats")},children:Object(R.jsx)(s.default,{style:g.default.buttonText,children:"-"})})]})]})}},261:function(e,t,n){"use strict";n.r(t);var r=n(23),o=n.n(r),a=n(11),l=n.n(a),i=n(19),s=n(1),c=n(111),d=n(58),u=n(32),f=n(33),h=n(185),j=n(79),b=n(0),g=n(107),m=n(69),x=n(15),y=n(2),p=function(e){var t=e.content,n=e.media,r=e.userName;if(!n)return Object(y.jsx)(s.default,{style:{marginRight:7},children:Object(y.jsx)(i.default,{style:[{color:"black",backgroundColor:"white",borderTopLeftRadius:0},x.default.text],children:t.replace(/@@@/g,r)})});var a=Object(b.useState)({}),c=l()(a,2),d=c[0],h=c[1],j=function(){var e=o()((function*(e){f.default.getSize(e,(function(e,t){var n=e/t;h(n>=.75?{width:264,aspectRatio:n}:{height:352,aspectRatio:n})}),(function(e){console.log(e)}))}));return function(t){return e.apply(this,arguments)}}();switch(n.type){case"err":return Object(y.jsx)(s.default,{style:{marginRight:7},children:Object(y.jsx)(i.default,{style:[{color:"white",backgroundColor:"gray",borderTopLeftRadius:0},x.default.text],children:"\uc0ad\uc81c\ub41c \ubbf8\ub514\uc5b4"})});case"pic":return Object(b.useEffect)((function(){j(n.url)}),[]),Object(y.jsx)(u.default,{onPress:function(){Object(m.openURL)(n.download)},children:Object(y.jsx)(s.default,{style:{marginRight:7},children:Object(y.jsx)(f.default,{style:[{borderRadius:15,borderTopLeftRadius:0},d],source:{uri:n.url}})})});case"voice":return Object(y.jsx)(u.default,{onPress:function(){Object(m.openURL)(n.download)},children:Object(y.jsx)(s.default,{style:{marginRight:7},children:Object(y.jsxs)(s.default,{style:[{backgroundColor:"white",borderTopLeftRadius:0,flexDirection:"row"},x.default.text],children:[Object(y.jsx)(s.default,{style:{borderColor:"black",borderWidth:2,width:24,height:24,borderRadius:12,justifyContent:"center",paddingLeft:2},children:Object(y.jsx)(i.default,{style:{textAlign:"center",fontSize:11},children:"\u25b6"})}),Object(y.jsxs)(i.default,{style:{fontSize:14.8,lineHeight:21},children:[" ",n.length]})]})})});case"vid":return Object(b.useEffect)((function(){j(n.thumbnail)}),[]),Object(y.jsx)(u.default,{onPress:function(){Object(m.openURL)(n.download)},children:Object(y.jsxs)(s.default,{style:{marginRight:7},children:[Object(y.jsx)(f.default,{style:[{borderRadius:15,borderTopLeftRadius:0},d],source:{uri:n.thumbnail}}),Object(y.jsx)(s.default,{style:[{backgroundColor:"black",opacity:.4,top:0,position:"absolute",borderRadius:15,borderTopLeftRadius:0,alignItems:"center",justifyContent:"center"},d],children:Object(y.jsx)(s.default,{style:{borderColor:"white",borderWidth:3,width:36,height:36,borderRadius:18,justifyContent:"center",paddingLeft:3},children:Object(y.jsx)(i.default,{style:{color:"white",textAlign:"center",fontSize:18},children:"\u25b6"})})})]})})}},O=function(e){var t=e.item,n=e.artist,r=e.media,o=e.userName;return Object(y.jsxs)(s.default,{style:{flexDirection:"row",marginVertical:5},children:[Object(y.jsx)(f.default,{source:{uri:n.profile},style:x.default.profileImg}),Object(y.jsxs)(s.default,{style:{marginHorizontal:5},children:[Object(y.jsx)(i.default,{style:x.default.artistName,children:n.name}),Object(y.jsxs)(s.default,{style:{flexDirection:"row"},children:[Object(y.jsx)(p,{content:t.content,media:r,userName:o}),Object(y.jsxs)(s.default,{children:[Object(y.jsx)(s.default,{style:{flex:1}}),Object(y.jsx)(i.default,{style:x.default.time,children:t.time})]})]})]})]})},A=function(e){var t=e.item;return Object(y.jsxs)(s.default,{style:{flexDirection:"row-reverse",marginVertical:5},children:[Object(y.jsx)(s.default,{style:{marginLeft:7},children:Object(y.jsx)(i.default,{style:[{color:"white",backgroundColor:"#555555",borderBottomRightRadius:0},x.default.text],children:t.content})}),Object(y.jsxs)(s.default,{children:[Object(y.jsx)(s.default,{style:{flex:1}}),Object(y.jsx)(i.default,{style:x.default.time,children:t.time})]})]})};t.default=function(e){var t=e.route,r=t.params.artist,a=t.params.userName,m=Object(b.useState)([]),p=l()(m,2),v=p[0],w=p[1],C=Object(b.useState)({}),k=l()(C,2),S=k[0],R=k[1],H=function(){var e=o()((function*(){if(t.params.full){var e="https://raw.githubusercontent.com/hasy0224/Bubble/main/FullChat/"+r.code+".json";try{var n=yield fetch(e),o=yield n.json();w(o)}catch(s){console.error(s)}}else w(yield Object(g.default)(r.code));if(r.hasMediaMeta){var a="https://raw.githubusercontent.com/hasy0224/Bubble/main/MediaDB/"+r.code+".json";try{var l=yield fetch(a),i=yield l.json();R(i)}catch(s){console.error(s)}}}));return function(){return e.apply(this,arguments)}}();Object(b.useEffect)((function(){H()}),[]);var D=Object(b.useState)(0),F=l()(D,2),I=F[0],M=F[1],T=function(e){console.log(e);var t=function(e){for(var t=0;t<v.length;t++)if(v[t].date.includes(e))return t}(e);t<v.length?(M(t),console.log(t),z(!E)):h.default.alert("\ud574\ub2f9 \ub0a0\uc9dc\uc758 \ub300\ud654\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")},L=Object(b.useRef)(null);Object(b.useEffect)((function(){var e,t;null!=(e=v[I])&&e.data&&(null==(t=L.current)||t.scrollToLocation({sectionIndex:I,itemIndex:0}))}),[I]);var N=Object(b.useState)(!1),W=l()(N,2),E=W[0],z=W[1];return Object(y.jsxs)(s.default,{style:{backgroundColor:"#EEEEEE"},children:[Object(y.jsx)((function(){var e,t,n;return Object(y.jsx)(j.default,{transparent:!0,animationType:"fade",visible:E,onRequestClose:function(){z(!E)},children:Object(y.jsx)(s.default,{style:[{flex:1,backgroundColor:"#00000055"},x.default.centeredContainer],children:Object(y.jsxs)(s.default,{style:x.default.modal,children:[Object(y.jsx)(i.default,{style:x.default.modalTitle,children:"\ub0a0\uc9dc \uac80\uc0c9"}),Object(y.jsxs)(s.default,{style:{flexDirection:"row",alignItems:"center",flex:1},children:[Object(y.jsx)(d.default,{onChangeText:function(t){e=t},style:[x.default.textinput,{flex:2}],placeholder:"yyyy",maxLength:4,textAlign:"left",inputMode:"numeric",keyboardType:"number-pad",returnKeyType:"next"}),Object(y.jsx)(i.default,{style:{margin:8},children:"\ub144"}),Object(y.jsx)(d.default,{onChangeText:function(e){t=e},style:[x.default.textinput,{flex:1}],placeholder:"mm",maxLength:2,textAlign:"left",inputMode:"numeric",keyboardType:"number-pad",returnKeyType:"next"}),Object(y.jsx)(i.default,{style:{margin:8},children:"\uc6d4"}),Object(y.jsx)(d.default,{onChangeText:function(e){n=e},style:[x.default.textinput,{flex:1}],placeholder:"dd",maxLength:2,textAlign:"left",inputMode:"numeric",keyboardType:"number-pad"}),Object(y.jsx)(i.default,{style:{margin:8},children:"\uc77c"})]}),Object(y.jsxs)(s.default,{style:{flexDirection:"row"},children:[Object(y.jsx)(u.default,{style:x.default.buttonContainer,onPress:function(){z(!E)},children:Object(y.jsx)(i.default,{style:x.default.cancelButton,children:"\ucde8\uc18c"})}),Object(y.jsx)(u.default,{style:x.default.buttonContainer,onPress:function(){var r=e+"\ub144 ";t&&(r=n?r+t+"\uc6d4 "+n+"\uc77c":r+t+"\uc6d4 "),T(r)},children:Object(y.jsx)(i.default,{style:x.default.okButton,children:"\ud655\uc778"})})]})]})})})}),{}),Object(y.jsx)(c.default,{ref:L,onScrollToIndexFailed:function(e){console.log(e.index),console.log(e.averageItemLength);try{var t,n;if(null!=(t=v[I])&&t.data)null==(n=L.current)||n.scrollToLocation({sectionIndex:0,itemIndex:0,viewOffset:-e.index*e.averageItemLength})}finally{new Promise((function(e){return setTimeout(e,500)})).then((function(){var e,t;null!=(e=v[I])&&e.data&&(null==(t=L.current)||t.scrollToLocation({sectionIndex:I,itemIndex:0,viewOffset:0}))}))}},sections:v,renderItem:function(e){var t=e.item;return t.fromArtist?t.isMedia&&r.hasMediaMeta?Object(y.jsx)(O,{item:t,artist:r,media:S[t.content],userName:a}):Object(y.jsx)(O,{item:t,artist:r,media:!1,userName:a}):Object(y.jsx)(A,{item:t})},renderSectionHeader:function(e){var t=e.section.date;return Object(y.jsx)(i.default,{style:x.default.date,children:t})},style:{paddingHorizontal:10,marginBottom:60}}),Object(y.jsx)(s.default,{style:{width:"100%",height:60,backgroundColor:"white",position:"absolute",bottom:0,padding:8},children:Object(y.jsxs)(s.default,{style:{alignItems:"center",flexDirection:"row"},children:[Object(y.jsx)(u.default,{onPress:function(){z(!E)},children:Object(y.jsx)(f.default,{source:n(253),style:{width:32,height:32}})}),Object(y.jsx)(d.default,{style:{height:40,flex:1,marginHorizontal:7,padding:10,borderRadius:20,backgroundColor:"#F5F5F5"},placeholder:"\uac80\uc0c9\uc5b4 \uc785\ub825"}),Object(y.jsx)(u.default,{children:Object(y.jsx)(f.default,{source:n(254),style:{width:32,height:32}})})]})})]})}}},[[193,1,2]]]);
//# sourceMappingURL=app.011db467.chunk.js.map