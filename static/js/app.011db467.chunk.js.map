{"version":3,"sources":["components/getData.js","App.js","components/styles.js","components/Archive.js","assets/Calendar.png","assets/Search.png","components/Profile.js","assets/X.png","components/MyChats.js","components/storeData.js","components/dateNotation.js","components/dateSort.js","components/timeNotation.js","components/getTimestamp.js","components/msgToObj.js","components/removeData.js","components/getArtistCode.js","components/ArtistChat.js","components/UserChat.js","components/ChatRoom.js"],"names":["getData","storageKey","jsonValue","AsyncStorage","getItem","JSON","parse","e","Stack","createStackNavigator","Tab","createBottomTabNavigator","MainTabs","navigation","route","Navigator","screenOptions","tabBarLabelPosition","tabBarIconStyle","display","Screen","name","getComponent","require","default","initialParams","Artists","App","component","options","headerShown","title","params","nickname","headerTitleAlign","presentation","styles","StyleSheet","create","profileImg","width","height","borderRadius","marginTop","artistName","color","marginBottom","fontSize","time","paddingBottom","fontWeight","text","paddingTop","paddingHorizontal","lineHeight","maxWidth","date","textAlign","borderColor","borderTopWidth","padding","marginVertical","container","backgroundColor","flex","paddingVertical","profile","profileContainer","borderWidth","centeredContainer","alignItems","justifyContent","addButton","buttonText","modal","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","okButton","margin","cancelButton","modalTitle","fileSelectButton","buttonContainer","textinput","borderBottomWidth","Archive","data","style","Object","values","renderItem","item","flexDirection","onPress","navigate","artist","source","uri","marginHorizontal","numberOfLines","ellipsizeMode","status","module","exports","Profile","useState","modalVisible","setModalVisible","background","openURL","backgroundDownload","position","top","userName","transparent","animationType","visible","onRequestClose","onChangeText","placeholder","full","goBack","marginLeft","bottom","profileDownload","myChatList","storeData","value","stringify","setItem","dateNotation","dayStr","dd","Date","getDay","getFullYear","getMonth","getDate","messageSort","messageArr","l","length","i","isMedia","index","duplicated","j","content","dateSort","rawData","tmp","forEach","element","undefined","message","push","console","log","timeNotation","temp","slice","getTimestamp","str","str2","replace","timestamp","setHours","getHours","valueOf","msgToObj","msgStr","temp1","split","temp2","temp3","fromArtist","includes","removeData","removeItem","getArtistCode","getMyChats","code","lastMessage","MyChats","setData","fetchData","useEffect","txtParse","setTxtParse","newArtistNickname","setNewArtistNickname","_pickDocument","result","DocumentPicker","fetch","then","response","_nickname","match","tmp2","View","Modal","Text","TouchableOpacity","newArtistCode","txtObjArr","_dataProcessing","FlatList","Image","Message","media","marginRight","borderTopLeftRadius","picStyle","setPicStyle","getStyle","imageURL","getSize","Width","Height","ratio","aspectRatio","errorMsg","type","url","download","paddingLeft","thumbnail","opacity","ArtistChat","UserChat","borderBottomRightRadius","ChatRoom","setMedia","_fetchData","json","error","hasMediaMeta","mediaUrl","sectionIndex","setSectionIndex","dateSearch","targetDate","dateStr","getSectionIndex","setDateModal","dateModal","Alert","alert","ref","useRef","current","scrollToLocation","itemIndex","yy","mm","TextInput","maxLength","inputMode","keyboardType","returnKeyType","SectionList","onScrollToIndexFailed","info","averageItemLength","viewOffset","Promise","resolve","setTimeout","sections","renderSectionHeader","section"],"mappings":"0HAEMA,EAAO,sBAAG,UAAOC,GACnB,IACE,IAAMC,QAAkBC,UAAaC,QAAQH,GAE7C,OAAqB,MAAbC,EAAoBG,KAAKC,MAAMJ,GAAa,KACpD,MAAMK,QAGX,gBARY,sCAUEP,a,g1HCZf,qGASMQ,EAAQC,oBACRC,EAAMC,oBAENC,EAAW,SAAH,GAAgB,EAAVC,WAAiB,EAALC,MAAK,OACnC,eAACJ,EAAIK,UAAS,CACZC,cAAe,CACbC,oBAAqB,cAErBC,gBAAiB,CAAEC,QAAS,SAC5B,UACF,cAACT,EAAIU,OAAM,CAACC,KAAK,UACfC,aAAc,kBAAMC,EAAQ,KAAwBC,SACpDC,cAAe,CAAEC,QAASA,KAE5B,cAAChB,EAAIU,OAAM,CAACC,KAAK,WACfC,aAAc,kBAAMC,EAAQ,KAAwBC,SACpDC,cAAe,CAAEC,QAASA,SAQjB,SAASC,IACtB,OACE,cAAC,UAAmB,UAClB,eAACnB,EAAMO,UAAS,WACd,cAACP,EAAMY,OAAM,CAACC,KAAK,OACjBO,UAAWhB,EACXiB,QAAS,CACPC,aAAa,KAGjB,cAACtB,EAAMY,OAAM,CAACC,KAAK,WACjBC,aAAc,kBAAMC,EAAQ,KAAyBC,SACrDK,QAAU,YAAQ,MACf,CAAEE,MADa,EAALjB,MACKkB,OAAOC,SACrBC,iBAAkB,aAGxB,cAAC1B,EAAMY,OAAM,CAACC,KAAK,UACjBC,aAAc,kBAAMC,EAAQ,KAAwBC,SACpDK,QAAS,CACPC,aAAa,EACbK,aAAc,kB,2CCpDpBC,E,KAASC,QAAWC,OAAO,CAC7BC,WAAY,CACRC,MAAO,GACPC,OAAQ,GACRC,aAAc,GACdC,UAAU,GAEdC,WAAY,CACRC,MAAO,QACPC,aAAc,EACdC,SAAS,IAEbC,KAAM,CACFD,SAAU,GACVF,MAAM,WACNI,cAAe,EACfC,WAAY,OAEhBC,KAAM,CACFC,WAAY,EACZH,cAAe,GACfI,kBAAmB,GACnBC,WAAW,GACXP,SAAS,KACTL,aAAc,GACda,SAAU,KAEdC,KAAM,CACFX,MAAO,OACPY,UAAW,SACXV,SAAU,GACVW,YAAa,YACbC,eAAgB,GAChBC,QAAS,EACTC,eAAgB,IAEpBC,UAAW,CACPC,gBAAgB,UAChBC,KAAK,EACLX,kBAAmB,GACnBY,gBAAiB,IAErBC,QAAS,CACL1B,MAAO,GACPC,OAAQ,GACRC,aAAc,IAElByB,iBAAkB,CACdzB,aAAc,GACdgB,YAAY,UACZU,YAAY,IACZR,QAAQ,GAEZS,kBAAmB,CACfC,WAAY,SACZC,eAAgB,UAEpBC,UAAW,CACPhC,MAAO,GACPC,OAAQ,GACRC,aAAc,GACdgB,YAAa,YACbU,YAAa,IAEjBK,WAAY,CACR5B,MAAO,WACPE,SAAU,GACVG,WAAY,MACZO,UAAW,UAGfiB,MAAO,CACHlC,MAAO,IACPC,OAAQ,IACRmB,QAAS,GACTG,gBAAiB,OACjBrB,aAAc,GACdiC,YAAa,OACbC,aAAc,CACVpC,MAAO,EACPC,OAAQ,GAEZoC,cAAe,IACfC,aAAc,EACdC,UAAW,GAEfC,SAAS,CACLjB,gBAAiB,UACjBlB,MAAO,OACPY,UAAW,SACXG,QAAS,EACTqB,OAAQ,EACRvC,aAAc,GAElBwC,aAAc,CACVrC,MAAO,UACPY,UAAW,SACXC,YAAa,UACbE,QAAS,EACTqB,OAAQ,EACRvC,aAAc,GAElByC,WAAY,CACRjC,WAAW,OACXL,MAAO,OACPE,SAAU,GACVD,aAAc,IAElBsC,iBAAkB,CACd3B,UAAW,SACXJ,kBAAmB,GACnBY,gBAAiB,EACjBnB,aAAc,GACdiB,gBAAiB,OACjBrB,aAAc,EACdG,MAAO,OACPK,WAAW,QAEfmC,gBAAgB,CACZrB,KAAM,EACNO,eAAgB,UAEpBe,UAAW,CACP5B,YAAY,YACZ6B,kBAAkB,KAIXnD,a,wIC1EAoD,UApDC,SAAH,GAA8B,IAAxB3E,EAAU,EAAVA,WACT4E,EAD0B,EAAL3E,MACRkB,OAAON,QAwC1B,OACI,cAAC,UAAI,CAACgE,MAAOtD,UAAO0B,UAAU,SAC1B,cAAC,UAAQ,CACL2B,KAAME,OAAOC,OAAOH,GACpBI,WA1CO,SAAH,GAAgB,IAAXC,EAAI,EAAJA,KAEjB,OACI,cAAC,UAAI,CAACJ,MAAO,CAAC5C,aAAc,GAAIL,OAAQ,IAAI,SACxC,eAAC,UAAgB,CAACiD,MAAO,CAACK,cAAe,OAErCC,QAAU,WAENnF,EAAWoF,SAAS,UAAU,CAACC,OAAQJ,KACxC,UAEH,eAAC,UAAI,WACD,cAAC,UAAI,CAACJ,MAAOtD,UAAO+B,iBAAiB,SACjC,cAAC,UAAK,CAACgC,OAAQ,CAACC,IAAIN,EAAK5B,SACrBwB,MAAOtD,UAAO8B,YAGtB,cAAC,UAAI,CAACwB,MAAO,CAAC1B,KAAK,QAGvB,cAAC,UAAI,CAAC0B,MAAO,CAAEW,iBAAkB,GAAI9B,eAAgB,UAAU,SAC3D,cAAC,UAAI,CAACmB,MAAO,CAAExC,WAAY,OAAQH,SAAU,IAAI,SAC5C+C,EAAKzE,SAId,cAAC,UAAI,CAACqE,MAAO,CAAEnB,eAAgB,SAAUP,KAAM,EAAGM,WAAY,YAAY,SACtE,cAAC,UAAI,CAACoB,MAAO,CAAE7C,MAAO,WAAYE,SAAU,IACpCuD,cAAe,EAAGC,cAAc,OAAM,SACrCT,EAAKU,uB,sCCpCtCC,EAAOC,QAAU,ksC,oBCAjBD,EAAOC,QAAU,IAA0B,oC,0ICqF5BC,UA/EC,SAAH,GAA+B,IAAzB9F,EAAU,EAAVA,WACTqF,EAD0B,EAALpF,MACNkB,OAAOkE,OAE5B,EAAwCU,oBAAS,GAAM,WAAhDC,EAAY,KAAEC,EAAe,KAgDpC,OACI,eAAC,UAAgB,CAACpB,MAAO,CAAC1B,KAAM,GAC5BgC,QAAS,WAAQE,EAAOa,YAAaC,kBAAQd,EAAOe,qBAAuB,UAC1Ef,EAAOa,WAAa,cAAC,UAAK,CAACZ,OAAQ,CAACC,IAAIF,EAAOa,YAAarB,MAAO,CAAC1B,KAAK,KAAQ,cAAC,UAAI,IACvF,eAAC,UAAI,CAAC0B,MAAO,CAAC3B,gBAAgB,YAAamD,SAAS,WAAYC,IAAI,EAAG3E,MAAO,OAAQC,OAAO,QAAQ,UACjG,eAnDU,WAClB,IAAI2E,EAEJ,OACA,cAAC,UAAK,CACFC,aAAa,EACbC,cAAc,OACdC,QAASV,EACTW,eAAgB,WACZV,GAAiBD,IACnB,SAEF,cAAC,UAAI,CAACnB,MAAO,CAAC,CAAC1B,KAAK,EAAGD,gBAAiB,aAAc3B,UAAOiC,mBAAmB,SAC5E,eAAC,UAAI,CAACqB,MAAOtD,UAAOsC,MAAM,UACtB,cAAC,UAAI,CAACgB,MAAOtD,UAAO+C,WAAW,SAAC,2CAChC,cAAC,UAAI,CAACO,MAAO,CAAC,CAAC1B,KAAK,GAAI5B,UAAOiC,mBAAmB,SAC9C,cAAC,UAAS,CACNoD,aAAc,SAAAtE,GAAOiE,EAAWjE,GAChCuE,YAAa,kCACbhC,MAAO,CAACtD,UAAOkD,UAAW,CAAC9C,MAAM,aAGzC,eAAC,UAAI,CAACkD,MAAO,CAACK,cAAc,OAAO,UAC/B,cAAC,UAAgB,CAACL,MAAOtD,UAAOiD,gBAC5BW,QAAS,WACLoB,EAAS,GACTN,GAAiBD,IACnB,SAEF,cAAC,UAAI,CAACnB,MAAOtD,UAAO8C,aAAa,SAAC,mBAEtC,cAAC,UAAgB,CAACQ,MAAOtD,UAAOiD,gBAC5BW,QAAU,WAENc,GAAiBD,GACjBhG,EAAWoF,SAAS,WAAW,CAACC,OAAQA,EAAQjE,SAAUiE,EAAO7E,KAAMsG,MAAM,EAAMP,SAAUA,KAC/F,SAEF,cAAC,UAAI,CAAC1B,MAAOtD,UAAO4C,SAAS,SAAC,+BAa5B,IACd,cAAC,UAAgB,CAACgB,QAAS,kBAAMnF,EAAW+G,UAAS,SACjD,cAAC,UAAK,CAACzB,OAAQ5E,EAAQ,KAAoBmE,MAAO,CAAC/C,UAAW,GAAIkF,WAAY,QAElF,eAAC,UAAI,CAACnC,MAAO,CAACwB,SAAS,WAAYY,OAAO,EAAGxD,WAAW,SAAU9B,MAAO,QAAQ,UAC7E,cAAC,UAAgB,CAACwD,QAAS,WAAKgB,kBAAQd,EAAO6B,kBAAmB,SAC9D,cAAC,UAAK,CAAC5B,OAAQ,CAACC,IAAKF,EAAOhC,SACxBwB,MAAO,CAAClD,MAAO,IAAKC,OAAQ,IAAKC,aAAc,QAEvD,cAAC,UAAI,CAACgD,MAAO,CAAC3C,SAAS,GAAIkC,OAAO,GAAIpC,MAAM,SAAS,SAAEqD,EAAO7E,OAC9D,cAAC,UAAI,CAACqE,MAAO,CAAC7C,MAAM,aAAa,SAAEqD,EAAOM,SAC1C,cAAC,UAAgB,CAACd,MAAO,CAAClD,MAAO,OAAQG,UAAU,IAC/CqD,QAAS,WAAKc,GAAiBD,IAAgB,SAC/C,cAAC,UAAI,CAACnB,MAAO,CAACtD,UAAO4C,SAAU,CAACC,OAAO,GAAIrB,QAAS,GAAIb,SAAS,OAAO,SAAC,wD,kBC3EjG0D,EAAOC,QAAU,0Z,4CCgBbsB,E,0HCLWC,EATA,sBAAG,aAAgC,IAAxBC,EAAK,EAALA,MAAOjI,EAAU,EAAVA,WAC7B,IACE,IAAMC,EAAYG,KAAK8H,UAAUD,SAC3B/H,UAAaiI,QAAQnI,EAAYC,GACvC,MAAOK,QAGZ,gBAPc,sCC+BA8H,EAhCM,SAAC7E,GAClB,IAEI8E,EAFEC,EAAK,IAAIC,KAAKhF,GAGpB,OAFY+E,EAAGE,UAGX,KAAK,EACDH,EAAS,qBACT,MACJ,KAAK,EACDA,EAAS,qBACT,MACJ,KAAK,EACDA,EAAS,qBACT,MACJ,KAAK,EACDA,EAAS,qBACT,MACJ,KAAK,EACDA,EAAS,qBACT,MACJ,KAAK,EACDA,EAAS,qBACT,MACJ,KAAK,EACDA,EAAS,qBAIjB,OAAQC,EAAGG,cAAc,WAAMH,EAAGI,WAAW,GAAG,UAAKJ,EAAGK,UAAU,UAAKN,GCiBrEO,EAAc,SAACC,GAEjB,IADA,IAAIC,EAAID,EAAWE,OACVC,EAAI,EAAGA,EAAIF,EAAI,EAAGE,IACvB,GAAIH,EAAWG,GAAGC,QAAQ,CAEtB,IADA,IAAIC,EAAQ,EAAGC,GAAa,EAClBC,EAAI,EAAGA,EAAIN,EAAIE,EAAGI,IACpBP,EAAWG,GAAGK,SAAWR,EAAWG,EAAEI,GAAGC,UACzCF,GAAa,EACbN,EAAWG,EAAEI,GAAGC,QAAUR,EAAWG,EAAEI,GAAGC,QAAQ,IAAIH,KAG1DC,IACAN,EAAWG,GAAGK,QAAUR,EAAWG,GAAGK,QAAdR,MAIpC,OAAOA,GAGIS,EA/DE,SAACC,GACd,IAAMC,EAAM,GACZD,EAAQE,SAAQ,SAAAC,QACaC,GAArBH,EAAIE,EAAQnG,MACZiG,EAAIE,EAAQnG,MAAQ,CAChBqG,QAAS,CAACF,EAAQE,UAItBJ,EAAIE,EAAQnG,MAAMqG,QAAQC,KAAKH,EAAQE,YAI/C,IAAIpE,EAAO,GACX,IAAI,IAAMjC,KAAQiG,EAiBdhE,EAAKqE,KAAK,CACNtG,KAAM6E,EAAa7E,GAEnBiC,KAAMoD,EAAYY,EAAIjG,GAAMqG,WAMpC,OAFAE,QAAQC,IAAI,mBAELvE,GC1BIwE,EAhBM,SAACC,GAClB,IAAIlH,EAEJ,OAAOkH,EAAK,IACR,IAAK,IAAKlH,EAAK,gBAAO,MACtB,QAASA,EAAK,gBAElB,OAAOkH,EAAK,IACR,IAAK,IAAKlH,GAAQkH,EAAKC,MAAM,EAAG,GAAI,MACpC,QAASnH,GAAQkH,EAAKC,MAAM,EAAG,GAGnC,OAAOnH,GCMIoH,EAlBM,SAACC,GAClB,IAAIC,EAAOD,EAAIE,QAAQ,IAAK,KACxBC,EAAY,IAAIhC,KAAK8B,EAAKH,MAAM,EAAE,IAAI,iBAa1C,OAZkB,IAAdE,EAAIrB,SACoB,MAApBqB,EAAIF,MAAM,GAAG,KAA0B,KAAXE,EAAI,IAChCG,EAAUC,SAASD,EAAUE,WAAW,IAEf,MAApBL,EAAIF,MAAM,GAAG,KAA0B,KAAXE,EAAI,KACrCG,EAAUC,SAASD,EAAUE,WAAW,KAOzCF,EAAUG,WCkCNC,EA5CE,SAACC,GACd,IAAIC,EAAQD,EAAOE,MAAM,OACrBC,EAAQF,EAAM,GAAGC,MAAM,MACvBE,EAAQD,EAAM,GAAGD,MAAM,KAEvBvH,EAAOyH,EAAM,GACbjI,EAAOiH,EAAagB,EAAM,IAC1BC,EAAyB,UAAZF,EAAM,GAInB9B,GAAU,EAAOI,EAAUwB,EAAM,GACrC,GAAIA,EAAM,GAEN,IAAK,IAAI7B,EAAI,EAAG6B,EAAM7B,GAAIA,IACtBK,GAAY,MAAMwB,EAAM7B,GAkBhC,OAbIK,EAAQ6B,SAAS,mBACjBjC,GAAU,EACVI,EAAU,OAAUc,EAAaY,EAAM,KAElC1B,EAAQ6B,SAAS,mBAAW7B,EAAQ6B,SAAS,sCAClDjC,GAAU,EACVI,EAAU,SAAYc,EAAaY,EAAM,KAEpC1B,EAAQ6B,SAAS,0BACtBjC,GAAU,EACVI,EAAU,OAAUc,EAAaY,EAAM,KAGnC,CACJxH,KAAMA,EACNqG,QAAS,CACL7G,KAAMA,EACNkG,QAASA,EACTI,QAASA,EACT4B,WAAYA,KChCTE,EAVC,sBAAG,UAAOnL,GACtB,UACQE,UAAakL,WAAWpL,GAC9B,MAAMM,IAIRwJ,QAAQC,IAAI,YACf,gBARe,sCCkDDsB,EApDO,SAACjK,GACnB,OAAQA,GAeJ,IAAK,WAED,OADA0I,QAAQC,IAAI,8BACJ,MACZ,IAAK,qBAED,OADAD,QAAQC,IAAI,wCACJ,MACZ,IAAK,2BAED,OADAD,QAAQC,IAAI,8BACJ,MAGZ,IAAK,eAED,OADAD,QAAQC,IAAI,8BACJ,MACZ,IAAK,iCAED,OADAD,QAAQC,IAAI,wBACJ,KACZ,IAAK,qBAED,OADAD,QAAQC,IAAI,8BACJ,MACZ,IAAK,qBAED,OADAD,QAAQC,IAAI,8BACJ,MACZ,IAAK,kCAED,OADAD,QAAQC,IAAI,8BACJ,MAGZ,IAAK,wCAED,OADAD,QAAQC,IAAI,wBACJ,O,OR5BduB,EAAU,sBAAG,UAAO7J,GAItB,IAAI+D,EAAO,GACX,GAAkB,OAJlBuC,QAAmBhI,kBAAQ,YAKvB,IAAK,IAAMwL,KAAQxD,EAEfvC,EAAKqE,KAAK,CACN5D,OAAQxE,EAAQ8J,GAChBvJ,SAAU+F,EAAWwD,GAAMvJ,SAC3BwJ,YAAazD,EAAWwD,GAAMC,mBAKtCzD,EAAW,GAGf,OAAOvC,KACV,gBApBe,sCAuNDiG,UA/LC,SAAH,GAA8B,IAAxB7K,EAAU,EAAVA,WAAYC,EAAK,EAALA,MAC3BY,QAAUZ,EAAMkB,OAAON,QAEvB,MAAwBkF,mBAAS,IAAG,WAA7BnB,EAAI,KAAEkG,EAAO,KACdC,EAAS,sBAAG,YACdD,QAAeJ,EAAW7J,aAC7B,kBAFc,mCAIfmK,qBAAW,WACPD,MACF,IAEF,MAAwChF,oBAAS,GAAM,WAAhDC,EAAY,KAAEC,EAAe,KAEpC,EAAgCF,mBAAS,IAAG,WAArCkF,EAAQ,KAAEC,EAAW,KAE5B,EAAkDnF,qBAAU,WAArDoF,EAAiB,KAAEC,EAAoB,KAExCC,EAAa,sBAAG,YAClB,IAAIC,QAAeC,mBAAgC,IAInDC,MAAMF,EAAO/F,KAAKkG,MAAK,SAASC,GAC5BA,EAASpJ,OAAOmJ,MAAK,SAASnJ,GAC1B,IAAIqJ,EAAYrJ,EAAKsJ,MAAM,YAAO,GAClCR,EAAqBO,EAAUrC,MAAM,EAAGqC,EAAUxD,OAAO,GAAGyD,MAAM,iBAAiB,IAInF,IAFA,IAAIhD,EAAMtG,EAAK4H,MAAM,MACjB2B,EAAO,GACFzD,EAAI,EAAGA,EAAIQ,EAAIT,OAAQC,IAI5B,GAFAQ,EAAIR,GAAKQ,EAAIR,GAAGsB,QAAQ,MAAO,IAE5Bd,EAAIR,GAAGwD,MAAM,yCAA0C,CAEtD,IADA,IAAIlM,EAAIkJ,EAAIR,GACLQ,EAAIR,EAAE,KACLQ,EAAIR,EAAE,GAAGwD,MAAM,0CAIflM,GAAM,KAAKkJ,IAAMR,GAIzByD,EAAK5C,KAAKvJ,GAGlBwL,EAAYW,YAGvB,kBAjCkB,mCAyInB,OACI,eAACC,EAAA,QAAI,CAACjH,MAAOtD,UAAO0B,UAAU,UAC1B,cAAC8I,EAAA,QAAK,CACFvF,aAAa,EACbC,cAAc,OACdC,QAASV,EACTW,eAAgB,WACZyE,EAAqB,IACrBF,EAAY,IACZjF,GAAiBD,IACnB,SAEF,eAxFI,WACZ,OACI,cAAC8F,EAAA,QAAI,CAACjH,MAAO,CAAC,CAAC1B,KAAM,EAAGD,gBAAiB,aAAa3B,UAAOiC,mBAAmB,SAC5E,eAACsI,EAAA,QAAI,CAACjH,MAAOtD,UAAOsC,MAAM,UACtB,cAACmI,EAAA,QAAI,CAACnH,MAAOtD,UAAO+C,WAAW,SAAC,iDAChC,eAACwH,EAAA,QAAI,CAACjH,MAAO,CAACtD,UAAOiC,kBAAmB,CAACL,KAAK,IAAI,UAC9C,cAAC8I,EAAA,QAAgB,CACb9G,QAASkG,EAAc,SACvB,cAACW,EAAA,QAAI,CAACnH,MAAOtD,UAAOgD,iBAAiB,SAAC,gCAE1C,eAACyH,EAAA,QAAI,CAACnH,MAAOsG,EAAmB,CAAC7K,QAAS,QAAS,CAACA,QAAS,QAAQ,UAChE6K,EAAkB,wCAI3B,eAACW,EAAA,QAAI,CAACjH,MAAO,CAACK,cAAc,OAAO,UAC/B,cAAC+G,EAAA,QAAgB,CAACpH,MAAOtD,UAAOiD,gBAC5BW,QAAS,WACLiG,EAAqB,IACrBF,EAAY,IACZjF,GAAiBD,IACnB,SAEF,cAACgG,EAAA,QAAI,CAACnH,MAAOtD,UAAO8C,aAAa,SAAC,mBAEtC,cAAC4H,EAAA,QAAgB,CAACpH,MAAOtD,UAAOiD,gBAC5BW,QAAU,WACN,IAAM+G,EArDV,WAEpB,IAAItB,EAAcK,EAASA,EAAS9C,OAAO,GAAG+B,MAAM,OAAO,GAEvD1J,EAAOyK,EAAS,GAAGf,MAAM,OAAO,GAAGA,MAAM,MAAM,GACnDhB,QAAQC,IAAI3I,GACZ,IAAI0L,EAAgBzB,EAAcjK,GAClC0I,QAAQC,IAAI+C,GAEZ/E,EAAW+E,GAAiB,CACxB9K,SAAU+J,EACVP,YAAaA,GAEjBxD,EAAU,CAACC,MAAOF,EAAY/H,WAAY,YAE1C,IAAI+M,EAAY,GAQhB,OAPAjD,QAAQC,IAAI+C,GACZjB,EAASpC,SAAS,SAAAC,GAAO,OAAIqD,EAAUlD,KAAKc,EAASjB,OACrD1B,EAAU,CAACC,MAAOqB,EAASyD,GAAY/M,WAAY8M,IAK5CA,EA8BuCE,GACtBnG,GAAiBD,GACjB+E,IACA/K,EAAWoF,SAAS,WAAW,CAACC,OAAQxE,QAAQqL,GAAgB9K,SAAU+J,EAAmBrE,MAAM,EAAOP,SAAS,MACrH,SAEF,cAACyF,EAAA,QAAI,CAACnH,MAAOtD,UAAO4C,SAAS,SAAC,6BAuDlC,MAEZ,cAACkI,EAAA,QAAQ,CACLzH,KAAMA,EACNI,WAnDO,SAAH,GAAgB,IAAXC,EAAI,EAAJA,KAEjB,OACI,cAAC6G,EAAA,QAAI,CAACjH,MAAO,CAAC5C,aAAc,GAAIL,OAAQ,IAAI,SACxC,eAACqK,EAAA,QAAgB,CAACpH,MAAO,CAACK,cAAe,OACrCC,QAAU,WAAMnF,EAAWoF,SAAS,WAAW,CAACC,OAAQJ,EAAKI,OAAQjE,SAAU6D,EAAK7D,SAAU0F,MAAM,EAAOP,SAAS,MAAO,UAE3H,eAACuF,EAAA,QAAI,WACD,cAACA,EAAA,QAAI,CAACjH,MAAOtD,UAAO+B,iBAAiB,SACjC,cAACgJ,EAAA,QAAK,CAAChH,OAAQ,CAACC,IAAKN,EAAKI,OAAOhC,SAC7BwB,MAAOtD,UAAO8B,YAGtB,cAACyI,EAAA,QAAI,CAACjH,MAAO,CAAC1B,KAAK,QAGvB,eAAC2I,EAAA,QAAI,CAACjH,MAAO,CAAEmC,WAAY,GAAI7D,KAAM,GAAG,UACpC,cAAC6I,EAAA,QAAI,CAACnH,MAAO,CAAExC,WAAY,OAAQH,SAAU,GAAID,aAAc,GAAG,SAC7DgD,EAAK7D,WAEV,cAAC4K,EAAA,QAAI,CAACnH,MAAO,CAAE7C,MAAO,WAAYE,SAAU,IACxCuD,cAAe,EAAGC,cAAc,OAAM,SACrCT,EAAK2F,yBA+BtB,eAACkB,EAAA,QAAI,CAACjH,MAAOtD,UAAOiC,kBAAkB,UAClC,cAACyI,EAAA,QAAgB,CAACpH,MAAO,CAACtD,UAAOoC,UAAWpC,UAAOiC,mBAC/C2B,QAAS,WACLc,GAAiBD,IACnB,SAEF,cAACgG,EAAA,QAAI,CAACnH,MAAOtD,UAAOqC,WAAW,SAAC,QAEpC,cAACqI,EAAA,QAAgB,CAACpH,MAAO,CAACtD,UAAOoC,UAAWpC,UAAOiC,mBAC/C2B,QAAS,WAAKoF,EAAW,YAAa,SACtC,cAACyB,EAAA,QAAI,CAACnH,MAAOtD,UAAOqC,WAAW,SAAC,gB,sLS3N9C2I,EAAU,SAAH,GAAoC,IAA/B9D,EAAO,EAAPA,QAAS+D,EAAK,EAALA,MAAOjG,EAAQ,EAARA,SAC9B,IAAIiG,EA2EA,OACI,cAACV,EAAA,QAAI,CAACjH,MAAO,CAAE4H,YAAY,GAAI,SAC3B,cAACT,EAAA,QAAI,CAACnH,MAAO,CAAC,CAAC7C,MAAO,QAASkB,gBAAgB,QAASwJ,oBAAqB,GAAInL,UAAOe,MAAM,SACzFmG,EAAQiB,QAAQ,OAAQnD,OA5ErC,MAA8BR,mBAAS,IAAG,WAAnC4G,EAAQ,KAAEC,EAAW,KAEtBC,EAAQ,sBAAG,UAAOC,GACpBR,UAAMS,QAAQD,GAAU,SAACE,EAAOC,GAC5B,IAAIC,EAAQF,EAAMC,EAEFL,EAAhBM,GAAS,IAAmB,CAACvL,MAAO,IAAKwL,YAAaD,GAAsB,CAACtL,OAAQ,IAAKuL,YAAaD,OACpG,SAACE,GACJlE,QAAQC,IAAIiE,SAEnB,gBARa,sCAUd,OAAQZ,EAAMa,MACV,IAAK,MACD,OACI,cAACvB,EAAA,QAAI,CAACjH,MAAO,CAAE4H,YAAY,GAAI,SAC3B,cAACT,EAAA,QAAI,CAACnH,MAAO,CAAC,CAAC7C,MAAO,QAASkB,gBAAgB,OAAQwJ,oBAAqB,GAAInL,UAAOe,MAAM,SAAC,4CAM1G,IAAK,MAMD,OALA0I,qBAAU,WAEN6B,EAASL,EAAMc,OAChB,IAGC,cAACrB,EAAA,QAAgB,CAAC9G,QAAS,WAAKgB,kBAAQqG,EAAMe,WAAY,SACtD,cAACzB,EAAA,QAAI,CAACjH,MAAO,CAAE4H,YAAY,GAAG,SAC1B,cAACH,EAAA,QAAK,CAACzH,MAAO,CAAC,CAAChD,aAAc,GAAI6K,oBAAqB,GAAIC,GAC3DrH,OAAQ,CAACC,IAAKiH,EAAMc,WAKpC,IAAK,QACD,OACI,cAACrB,EAAA,QAAgB,CAAC9G,QAAS,WAAKgB,kBAAQqG,EAAMe,WAAY,SACtD,cAACzB,EAAA,QAAI,CAACjH,MAAO,CAAE4H,YAAY,GAAI,SAC3B,eAACX,EAAA,QAAI,CAACjH,MAAO,CAAC,CAAC3B,gBAAgB,QAASwJ,oBAAqB,EAAGxH,cAAe,OAAQ3D,UAAOe,MAAM,UAChG,cAACwJ,EAAA,QAAI,CAAEjH,MAAO,CAAChC,YAAa,QAASU,YAAa,EAAG5B,MAAO,GAAIC,OAAQ,GAAIC,aAAc,GAAI6B,eAAgB,SAAU8J,YAAY,GAAG,SACnI,cAACxB,EAAA,QAAI,CAACnH,MAAO,CAACjC,UAAW,SAAUV,SAAS,IAAI,SAAC,aAErD,eAAC8J,EAAA,QAAI,CAACnH,MAAO,CAAC3C,SAAS,KAAMO,WAAW,IAAI,UAAC,IAAE+J,EAAMrE,iBAKzE,IAAK,MAKD,OAJA6C,qBAAU,WACN6B,EAASL,EAAMiB,aAChB,IAGC,cAACxB,EAAA,QAAgB,CAAC9G,QAAS,WAAKgB,kBAAQqG,EAAMe,WAAY,SACtD,eAACzB,EAAA,QAAI,CAACjH,MAAO,CAAE4H,YAAY,GAAI,UAC3B,cAACH,EAAA,QAAK,CAACzH,MAAO,CAAC,CAAChD,aAAc,GAAI6K,oBAAqB,GAAIC,GAC3DrH,OAAQ,CAACC,IAAKiH,EAAMiB,aACpB,cAAC3B,EAAA,QAAI,CAACjH,MAAO,CAAC,CAAC3B,gBAAiB,QAASwK,QAAS,GAClDpH,IAAI,EAAGD,SAAS,WAAYxE,aAAc,GAAI6K,oBAAqB,EAAGjJ,WAAW,SAAUC,eAAgB,UAAWiJ,GAAU,SAC5H,cAACb,EAAA,QAAI,CAAEjH,MAAO,CAAChC,YAAa,QAASU,YAAa,EAAG5B,MAAO,GAAIC,OAAQ,GAAIC,aAAc,GAAI6B,eAAgB,SAAU8J,YAAY,GAAG,SACnI,cAACxB,EAAA,QAAI,CAACnH,MAAO,CAAC7C,MAAO,QAASY,UAAW,SAAUV,SAAS,IAAI,SAAC,sBA4CtFyL,EAvBI,SAAH,GAA2C,IAArC1I,EAAI,EAAJA,KAAMI,EAAM,EAANA,OAAQmH,EAAK,EAALA,MAAOjG,EAAQ,EAARA,SAEvC,OACI,eAACuF,EAAA,QAAI,CAACjH,MAAO,CAACK,cAAe,MAAOlC,eAAgB,GAAG,UACnD,cAACsJ,EAAA,QAAK,CAAChH,OAAQ,CAACC,IAAKF,EAAOhC,SAAUwB,MAAOtD,UAAOG,aACpD,eAACoK,EAAA,QAAI,CAACjH,MAAO,CAACW,iBAAiB,GAAG,UAC9B,cAACwG,EAAA,QAAI,CAACnH,MAAOtD,UAAOQ,WAAW,SAAEsD,EAAO7E,OACxC,eAACsL,EAAA,QAAI,CAACjH,MAAO,CAACK,cAAe,OAAO,UAChC,cAAC,EAAO,CAACuD,QAASxD,EAAKwD,QAAS+D,MAAOA,EAAOjG,SAAUA,IACxD,eAACuF,EAAA,QAAI,WACD,cAACA,EAAA,QAAI,CAACjH,MAAO,CAAC1B,KAAM,KACpB,cAAC6I,EAAA,QAAI,CAACnH,MAAOtD,UAAOY,KAAK,SACpB8C,EAAK9C,oBCpFnByL,EAlBE,SAAH,GAAgB,IAAX3I,EAAI,EAAJA,KACf,OACI,eAAC6G,EAAA,QAAI,CAACjH,MAAO,CAACK,cAAe,cAAelC,eAAgB,GAAG,UAC3D,cAAC8I,EAAA,QAAI,CAACjH,MAAO,CAAEmC,WAAW,GAAI,SAC1B,cAACgF,EAAA,QAAI,CAACnH,MAAO,CAAC,CAAC7C,MAAO,QAASkB,gBAAgB,UAAU2K,wBAAyB,GAAItM,UAAOe,MAAM,SAC9F2C,EAAKwD,YAGd,eAACqD,EAAA,QAAI,WACD,cAACA,EAAA,QAAI,CAACjH,MAAO,CAAC1B,KAAM,KACpB,cAAC6I,EAAA,QAAI,CAACnH,MAAOtD,UAAOY,KAAK,SACpB8C,EAAK9C,cCmNX2L,UArNE,SAAH,GAAmB,IAAb7N,EAAK,EAALA,MAEVoF,EAASpF,EAAMkB,OAAOkE,OACtBkB,EAAWtG,EAAMkB,OAAOoF,SAE9B,EAAwBR,mBAAS,IAAG,WAA7BnB,EAAI,KAAEkG,EAAO,KACpB,EAA0B/E,mBAAS,IAAG,WAA/ByG,EAAK,KAAEuB,EAAQ,KAKhBC,EAAU,sBAAG,YACf,GAAI/N,EAAMkB,OAAO2F,KAAM,CAEnB,IAAMwG,EAAM,mEAAmEjI,EAAOsF,KAAK,QAC3F,IACI,IAAMe,QAAiBF,MACnB8B,GAEEW,QAAavC,EAASuC,OAC5BnD,EAAQmD,GACN,MAAOC,GACThF,QAAQgF,MAAMA,SAIlBpD,QAAc3L,kBAAQkG,EAAOsF,OAGjC,GAAItF,EAAO8I,aAAa,CACpB,IAAMC,EAAW,kEAAkE/I,EAAOsF,KAAK,QAC/F,IACI,IAAMe,QAAiBF,MACnB4C,GAEEH,QAAavC,EAASuC,OAC5BF,EAASE,GACP,MAAOC,GACThF,QAAQgF,MAAMA,QAIzB,kBA/Be,mCAgChBlD,qBAAY,WAERgD,MAED,IAEH,MAAwCjI,mBAAS,GAAE,WAA5CsI,EAAY,KAAEC,EAAe,KAM9BC,EAAa,SAACC,GAChBtF,QAAQC,IAAIqF,GACZ,IAAIpG,EAPgB,SAACqG,GACrB,IAAI,IAAIrG,EAAI,EAAGA,EAAIxD,EAAKuD,OAAQC,IAC5B,GAAIxD,EAAKwD,GAAGzF,KAAK2H,SAASmE,GAAU,OAAOrG,EAKvCsG,CAAgBF,GAEpBpG,EAAIxD,EAAKuD,QACTmG,EAAgBlG,GAChBc,QAAQC,IAAIf,GACZuG,GAAcC,IAEbC,UAAMC,MAAM,qGAGfC,EAAMC,iBAAO,MAEnBhE,qBAAW,WAAO,IAAD,EACe,EAAP,OAArB,EAAGpG,EAAKyJ,KAAL,EAAoBzJ,OACR,OAAX,EAAAmK,EAAIE,UAAJ,EAAaC,iBAAiB,CAC1Bb,aAAcA,EACdc,UAAW,OAGpB,CAACd,IAGJ,MAAkCtI,oBAAS,GAAM,WAA1C6I,EAAS,KAAED,EAAY,KAmF9B,OACI,eAAC7C,EAAA,QAAI,CAACjH,MAAS,CAAC3B,gBAAiB,WAAW,UACxC,eApFW,WACf,IAAIkM,EAAIC,EAAI3H,EACZ,OACI,cAACqE,EAAA,QAAK,CACFvF,aAAa,EACbC,cAAc,OACdC,QAASkI,EACTjI,eAAgB,WACZgI,GAAcC,IAChB,SAEF,cAAC9C,EAAA,QAAI,CAACjH,MAAO,CAAC,CAAC1B,KAAK,EAAGD,gBAAiB,aAAc3B,UAAOiC,mBAAmB,SAC5E,eAACsI,EAAA,QAAI,CAACjH,MAAOtD,UAAOsC,MAAM,UACtB,cAACmI,EAAA,QAAI,CAACnH,MAAOtD,UAAO+C,WAAW,SAAC,8BAChC,eAACwH,EAAA,QAAI,CAACjH,MAAO,CAACK,cAAc,MAAOzB,WAAW,SAAUN,KAAK,GAAG,UAC5D,cAACmM,EAAA,QAAS,CAAC1I,aAAc,SAAAtE,GAAO8M,EAAG9M,GAC/BuC,MAAO,CAACtD,UAAOkD,UAAW,CAACtB,KAAK,IAChC0D,YAAa,OACb0I,UAAW,EACX3M,UAAU,OACV4M,UAAU,UACVC,aAAa,aACbC,cAAc,SAClB,cAAC1D,EAAA,QAAI,CAACnH,MAAO,CAACT,OAAO,GAAG,SAAC,WACzB,cAACkL,EAAA,QAAS,CAAC1I,aAAc,SAAAtE,GAAO+M,EAAG/M,GAC/BuC,MAAO,CAACtD,UAAOkD,UAAW,CAACtB,KAAK,IAChC0D,YAAa,KACb0I,UAAW,EACX3M,UAAU,OACV4M,UAAU,UACVC,aAAa,aACbC,cAAc,SAClB,cAAC1D,EAAA,QAAI,CAACnH,MAAO,CAACT,OAAO,GAAG,SAAC,WACzB,cAACkL,EAAA,QAAS,CAAC1I,aAAc,SAAAtE,GAAOoF,EAAGpF,GAC/BuC,MAAO,CAACtD,UAAOkD,UAAW,CAACtB,KAAK,IAChC0D,YAAa,KACb0I,UAAW,EACX3M,UAAU,OACV4M,UAAU,UACVC,aAAa,eACjB,cAACzD,EAAA,QAAI,CAACnH,MAAO,CAACT,OAAO,GAAG,SAAC,cAE7B,eAAC0H,EAAA,QAAI,CAACjH,MAAO,CAACK,cAAc,OAAO,UACnC,cAAC+G,EAAA,QAAgB,CAACpH,MAAOtD,UAAOiD,gBAC5BW,QAAS,WACLwJ,GAAcC,IAChB,SAEF,cAAC5C,EAAA,QAAI,CAACnH,MAAOtD,UAAO8C,aAAa,SAAC,mBAEtC,cAAC4H,EAAA,QAAgB,CAACpH,MAAOtD,UAAOiD,gBAC5BW,QAAU,WACN,IAAIqJ,EAAaY,EAAG,UAChBC,IAEIb,EADA9G,EACa8G,EAAWa,EAAG,UAAK3H,EAAG,SAErB8G,EAAWa,EAAG,WAEpCd,EAAWC,IACb,SAEF,cAACxC,EAAA,QAAI,CAACnH,MAAOtD,UAAO4C,SAAS,SAAC,+BAsBnC,IACX,cAACwL,EAAA,QAAW,CACRZ,IAAKA,EACLa,sBAAwB,SAAAC,GACpB3G,QAAQC,IAAI0G,EAAKvH,OACjBY,QAAQC,IAAI0G,EAAKC,mBACjB,IAAI,IAAD,EAC6B,EAA5B,GAAqB,OAArB,EAAGlL,EAAKyJ,KAAL,EAAoBzJ,KACR,OAAX,EAAAmK,EAAIE,UAAJ,EAAaC,iBAAiB,CAC1Bb,aAAc,EACdc,UAAW,EACXY,YAAcF,EAAKvH,MAAQuH,EAAKC,oBAG3C,QAEgB,IAAIE,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAAS,QACnDxE,MAAM,WAAK,IAAD,EACiB,EAAP,OAArB,EAAG7G,EAAKyJ,KAAL,EAAoBzJ,OACR,OAAX,EAAAmK,EAAIE,UAAJ,EAAaC,iBAAiB,CAC1Bb,aAAcA,EACdc,UAAW,EACXY,WAAY,UAMhCI,SAAUvL,EACVI,WAvCO,SAAH,GAAkB,IAAZC,EAAI,EAAJA,KAClB,OAASA,EAAKoF,WACRpF,EAAKoD,SAAWhD,EAAO8I,aACzB,cAAC,EAAU,CAAClJ,KAAMA,EAAMI,OAAQA,EAAQmH,MAAOA,EAAMvH,EAAKwD,SAAUlC,SAAUA,IAC5E,cAAC,EAAU,CAACtB,KAAMA,EAAMI,OAAQA,EAAQmH,OAAO,EAAOjG,SAAUA,IACpE,cAAC,EAAQ,CAACtB,KAAMA,KAmCVmL,oBAAsB,gBAAYzN,EAAI,EAAd0N,QAAU1N,KAAI,OAAQ,cAACqJ,EAAA,QAAI,CAACnH,MAAOtD,UAAOoB,KAAK,SAAEA,KACzEkC,MAAO,CAACrC,kBAAmB,GAAIP,aAAa,MAEhD,cAAC6J,EAAA,QAAI,CAACjH,MAAO,CAAClD,MAAO,OAAOC,OAAQ,GAAIsB,gBAAgB,QAASmD,SAAS,WAAYY,OAAO,EAAGlE,QAAQ,GAAG,SACvG,eAAC+I,EAAA,QAAI,CAACjH,MAAO,CAACpB,WAAW,SAAUyB,cAAc,OAAO,UACxD,cAAC+G,EAAA,QAAgB,CAA+C9G,QAAS,WAAKwJ,GAAcC,IAAY,SACpG,cAACtC,EAAA,QAAK,CAAChH,OAAQ5E,EAAQ,KAA2BmE,MAAO,CAAClD,MAAO,GAAIC,OAAO,QAEhF,cAAC0N,EAAA,QAAS,CAACzK,MAAO,CAACjD,OAAO,GAAIuB,KAAK,EAAGqC,iBAAkB,EAAGzC,QAAS,GAAIlB,aAAa,GAAIqB,gBAAgB,WACrG2D,YAAa,oCACjB,cAACoF,EAAA,QAAgB,UACb,cAACK,EAAA,QAAK,CAAChH,OAAQ5E,EAAQ,KAAyBmE,MAAO,CAAClD,MAAO,GAAIC,OAAO,mB","file":"static/js/app.011db467.chunk.js","sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst getData = async (storageKey) => {\r\n    try {\r\n      const jsonValue = await AsyncStorage.getItem(storageKey)\r\n      //console.log(jsonValue);\r\n      return (jsonValue != null ? JSON.parse(jsonValue) : null);\r\n    } catch(e) {\r\n      // error reading value\r\n    }\r\n}\r\n\r\nexport default getData;","import { StatusBar } from 'expo-status-bar';\r\nimport { StyleSheet, Text, View } from 'react-native';\r\n\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createStackNavigator } from '@react-navigation/stack';\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\n\r\nimport Artists from './assets/Artists.json'\r\n\r\nconst Stack = createStackNavigator();\r\nconst Tab = createBottomTabNavigator();\r\n\r\nconst MainTabs = ({ navigation, route }) =>(\r\n  <Tab.Navigator\r\n    screenOptions={{ \r\n      tabBarLabelPosition: \"beside-icon\",\r\n      //tabBarLabelStyle: { borderColor:'red', borderWidth:1 },\r\n      tabBarIconStyle: { display: \"none\" } \r\n    }}>\r\n    <Tab.Screen name='Archive' \r\n      getComponent={() => require('./components/Archive').default}\r\n      initialParams={{ Artists: Artists }}\r\n      />\r\n    <Tab.Screen name='My Chats' \r\n      getComponent={() => require('./components/MyChats').default}\r\n      initialParams={{ Artists: Artists }}\r\n      />\r\n  </Tab.Navigator>\r\n)\r\n\r\n// <StatusBar style=\"auto\" />\r\n\r\n\r\nexport default function App() {\r\n  return (\r\n    <NavigationContainer>\r\n      <Stack.Navigator>\r\n        <Stack.Screen name='Home'\r\n          component={MainTabs} \r\n          options={{\r\n            headerShown: false\r\n          }}\r\n        />\r\n        <Stack.Screen name='ChatRoom'\r\n          getComponent={() => require('./components/ChatRoom').default} \r\n          options={ ({ route }) => \r\n            ({ title: route.params.nickname,\r\n              headerTitleAlign: 'center' })\r\n          }\r\n        />\r\n        <Stack.Screen name='Profile'\r\n          getComponent={() => require('./components/Profile').default} \r\n          options={{\r\n            headerShown: false,\r\n            presentation: 'modal' \r\n          }}\r\n        />\r\n      </Stack.Navigator>\r\n    </NavigationContainer>\r\n  );\r\n}\r\n\r\n","import { StyleSheet } from 'react-native';\r\n\r\nconst styles = StyleSheet.create({\r\n    profileImg: {\r\n        width: 40,\r\n        height: 40,\r\n        borderRadius: 20,\r\n        marginTop:2\r\n    },\r\n    artistName: {\r\n        color: 'black',\r\n        marginBottom: 5,\r\n        fontSize:12\r\n    },\r\n    time: {\r\n        fontSize: 10,\r\n        color:'darkgrey',\r\n        paddingBottom: 2,\r\n        fontWeight: '400'\r\n    },\r\n    text: {\r\n        paddingTop: 8, \r\n        paddingBottom: 10, \r\n        paddingHorizontal: 12, \r\n        lineHeight:21, \r\n        fontSize:14.8,\r\n        borderRadius: 14, \r\n        maxWidth: 270,\r\n    },\r\n    date: {\r\n        color: 'grey',\r\n        textAlign: 'center',\r\n        fontSize: 11,\r\n        borderColor: 'lightgrey',\r\n        borderTopWidth: 0.5,\r\n        padding: 5,\r\n        marginVertical: 10\r\n    },\r\n    container: {\r\n        backgroundColor:'#FFFFFF', \r\n        flex:1, \r\n        paddingHorizontal: 20,\r\n        paddingVertical: 10\r\n    },\r\n    profile: {\r\n        width: 50,\r\n        height: 50,\r\n        borderRadius: 25\r\n    },\r\n    profileContainer: {\r\n        borderRadius: 28, \r\n        borderColor:'#e54132', \r\n        borderWidth:1.5, \r\n        padding:2\r\n    },\r\n    centeredContainer: {\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    addButton: {\r\n        width: 60,\r\n        height: 60,\r\n        borderRadius: 30,\r\n        borderColor: 'lightgray',\r\n        borderWidth: 0.5,\r\n    },\r\n    buttonText: {\r\n        color: 'darkgray',\r\n        fontSize: 40,\r\n        fontWeight: '400',\r\n        textAlign: 'center',\r\n        \r\n    },\r\n    modal: {\r\n        width: 250,\r\n        height: 200,\r\n        padding: 15,\r\n        backgroundColor: '#FFF',\r\n        borderRadius: 15,\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 2\r\n        },\r\n        shadowOpacity: 0.25,\r\n        shadowRadius: 4,\r\n        elevation: 5\r\n    },\r\n    okButton:{\r\n        backgroundColor: '#e54132',\r\n        color: '#FFF',\r\n        textAlign: 'center',\r\n        padding: 8,\r\n        margin: 5,\r\n        borderRadius: 5\r\n    },\r\n    cancelButton: {\r\n        color: '#e54132',\r\n        textAlign: 'center',\r\n        borderColor: '#e54132',\r\n        padding: 8,\r\n        margin: 5,\r\n        borderRadius: 5\r\n    },\r\n    modalTitle: {\r\n        fontWeight:'bold', \r\n        color: 'gray', \r\n        fontSize: 15,\r\n        marginBottom: 10\r\n    },\r\n    fileSelectButton: {\r\n        textAlign: 'center',\r\n        paddingHorizontal: 10,\r\n        paddingVertical: 5,\r\n        marginBottom: 15,\r\n        backgroundColor: 'gray',\r\n        borderRadius: 5,\r\n        color: '#FFF',\r\n        fontWeight:'bold'\r\n    },\r\n    buttonContainer:{\r\n        flex: 1,\r\n        justifyContent: 'center'\r\n    },\r\n    textinput: {\r\n        borderColor:'lightgray', \r\n        borderBottomWidth:1\r\n    }\r\n});\r\n\r\nexport default styles;\r\n","import { Text, View, FlatList, TouchableOpacity, Image } from 'react-native';\r\nimport styles from './styles';\r\n\r\n\r\nconst Archive = ({ navigation, route }) =>{\r\n    const data = route.params.Artists;\r\n\r\n    const renderItem = ({item}) => {\r\n        //console.log(item);\r\n        return (\r\n            <View style={{marginBottom: 15, height: 65}}>\r\n                <TouchableOpacity style={{flexDirection: 'row'}}\r\n                    //onPress={ ()=> {_fetchData(); console.log(temp);}}\r\n                    onPress={ ()=> {\r\n                        //navigation.navigate('ChatRoom',{artist: item, nickname: item.name, full: true})\r\n                        navigation.navigate('Profile',{artist: item})\r\n                    } }\r\n                >\r\n                    <View>\r\n                        <View style={styles.profileContainer}>\r\n                            <Image source={{uri:item.profile}} \r\n                                style={styles.profile}\r\n                            />\r\n                        </View>\r\n                        <View style={{flex:1}}/>\r\n                    </View>\r\n                    \r\n                    <View style={{ marginHorizontal: 10, justifyContent: 'center'}}>\r\n                        <Text style={{ fontWeight: 'bold', fontSize: 16}}>\r\n                            {item.name}\r\n                        </Text>\r\n                    </View>\r\n                    \r\n                    <View style={{ justifyContent: 'center', flex: 1, alignItems: 'flex-end'}}>\r\n                        <Text style={{ color: 'darkgray', fontSize: 12 }}\r\n                                numberOfLines={2} ellipsizeMode='tail'>\r\n                                {item.status}\r\n                        </Text>\r\n                    </View>\r\n                    \r\n                </TouchableOpacity>\r\n            </View>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <FlatList\r\n                data={Object.values(data)}\r\n                renderItem={renderItem}\r\n            />\r\n        </View>\r\n    );\r\n}\r\n\r\n\r\nexport default Archive;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAzRJREFUeF7tW4F10zAQjSeATsAIbSegnYAyAe0GyQS4EyQb4E4ATNAwAekGbEA7Qfi/T+YpquSTZVmI5vSenxNHJ919/zuf5EuzOPLWHLn9CwVgKgOWy+UVxviM4y2O1Waz+TZ1zCH53PNNZgAU+gWF3xmldwDgfGYAss6XA4C9bTAAmDymwICs801WFgzIqpDEntzzKQAS4tLvue9I6fmUARLi/e+r1erDfr8/w/cLHDzzsVdTe4QyOxzbpml26/X6e4xyIgNAcRr7xRgdM2YtfQjGDZ5KPAfbIAAwnglOW4tFiXq0AOE2JBsEAMbTcALwGhoz1I3PEC8AhvY/PQJ3uNbR1zAefW5Ry1MAejAm0V2vcXzy6H7uc4cQADSeg/XtCR+uMMDWHbgWAGy9oNMFvnNN8sa67k3TXwBgFhtfHUMvfcbXxADPjSEI9871j+5izQdACyHb9+8gRFp5W40M6BWFbp3jDrewhfb9bT4ASPP3Vp/g3a+ZAUY3lwU/AACvDQLwG7/aSc5JH/B8FHCWww/oa8eOEHGSr4+ZzwRG2tO3R+h3IgEwanVnYgZpRdCWhTZEoueTXNTnAqMASL6VhQQVAGG/QhngMlGiTCHmZptGskdkQDZNKhnI3bNUANQFHAQkn6mEydFqSPaILjD3Pn+0JYkdFQDNA4Zf3KgLpD4F4FtbyNrLZnuoLWLHZWD1WFpucG2TzAA3uLjGhoLnv5YbnQjVakgq4AqA8/peXWCmIPhi762fRwiec8jNEwQTE7PiYpoJaiaomeA8MUAzQce3UhOT0nKaCGkidFjIqZmgZoK6KXqIAB5vrP2xS0sGX48Xz21HTOh5Pf6Ep8BBfePkAokR+hTvamqF7DKZqAKJFppGl8gUt2rEhKklMvwHSHSR1Ah9inb13H3OLxdJsReEWV56amnMuEBhbmhW34zxvIm2v3vLd8YWSnYoRO5QNM3Bngsla2kMeNDtFLpdQycebosvlDQsaHE+zlLZHjqg+hpACNYJ087YcvnOiQm1MH9Ijwe6wqRyeXt0Uw5n/2HCTpZqAIT1zM9/mOA5tlxPZEANls2pgwIwJ7r/w9hHz4A/XA2zXwD9SZ8AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/Search.11815d46.png\";","import { Text, View, TouchableOpacity, Image, Modal, TextInput, ImageBackground } from 'react-native';\r\nimport styles from './styles';\r\nimport { openURL } from 'expo-linking';\r\n\r\nimport { useState } from 'react';\r\n\r\nconst Profile = ({ navigation, route }) => {\r\n    const artist = route.params.artist;\r\n\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n\r\n    const UserNameModal = () => {\r\n        var userName;\r\n\r\n        return (\r\n        <Modal\r\n            transparent={true}                \r\n            animationType=\"fade\"\r\n            visible={modalVisible}\r\n            onRequestClose={() => {\r\n                setModalVisible(!modalVisible);\r\n            }}\r\n        >\r\n            <View style={[{flex:1, backgroundColor: '#00000055'}, styles.centeredContainer]}>\r\n                <View style={styles.modal}>\r\n                    <Text style={styles.modalTitle}>내 닉네임 설정</Text>\r\n                    <View style={[{flex:1}, styles.centeredContainer]}>\r\n                        <TextInput \r\n                            onChangeText={text=>{userName = text;}} \r\n                            placeholder={'닉네임 입력'}\r\n                            style={[styles.textinput, {width:'100%'}]}\r\n                        />\r\n                    </View>\r\n                    <View style={{flexDirection:'row'}}>\r\n                        <TouchableOpacity style={styles.buttonContainer}\r\n                            onPress={() => {\r\n                                userName='';\r\n                                setModalVisible(!modalVisible);\r\n                            }}\r\n                        >\r\n                            <Text style={styles.cancelButton}>취소</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity style={styles.buttonContainer}\r\n                            onPress={ () => {\r\n                                //console.log(userName);\r\n                                setModalVisible(!modalVisible); \r\n                                navigation.navigate('ChatRoom',{artist: artist, nickname: artist.name, full: true, userName: userName}); \r\n                            }}\r\n                        >\r\n                            <Text style={styles.okButton}>확인</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            </View>\r\n        </Modal>\r\n    )}\r\n\r\n    return (\r\n        <TouchableOpacity style={{flex: 1}} \r\n            onPress={()=>{if(artist.background) {openURL(artist.backgroundDownload);}}}>\r\n            {artist.background ? <Image source={{uri:artist.background}} style={{flex:1}}/> : <View/>}\r\n            <View style={{backgroundColor:'#00000050', position:'absolute', top:0, width: '100%', height:'100%'}}>\r\n                <UserNameModal/>\r\n                <TouchableOpacity onPress={() => navigation.goBack()}>\r\n                    <Image source={require('../assets/X.png')} style={{marginTop: 45, marginLeft: 25}}/>\r\n                </TouchableOpacity>\r\n                <View style={{position:'absolute', bottom:0, alignItems:'center', width: '100%'}}>\r\n                    <TouchableOpacity onPress={()=>{openURL(artist.profileDownload);}}>\r\n                        <Image source={{uri: artist.profile}} \r\n                            style={{width: 120, height: 120, borderRadius: 60}} />\r\n                    </TouchableOpacity>\r\n                    <Text style={{fontSize:18, margin:10, color:'white'}}>{artist.name}</Text>\r\n                    <Text style={{color:'lightgray'}}>{artist.status}</Text>\r\n                    <TouchableOpacity style={{width: '100%', marginTop:70}}\r\n                        onPress={()=>{setModalVisible(!modalVisible);}}>\r\n                        <Text style={[styles.okButton, {margin:25, padding: 15, fontSize:15.5}]}>\r\n                            전체 채팅 보기\r\n                        </Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        </TouchableOpacity>\r\n    );\r\n}\r\n\r\nexport default Profile;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABHNCSVQICAgIfAhkiAAAANdJREFUSEu11lEOwiAMBmAbdzJN9Mx72b1MTLAsdkHW0r+AexnJtn5QoIxSSk8iWi9/ujj+g3JsbiSG9vasi0NeOdaLwy5H4JlQCeRO//R+BlQDJ2Q0dRqgIr2QBZhIFGoBTQSFPMBFPAgBIMSCUABGaigChBCB+L7ITkarQ6iUfEfwjpYgGClTFK0MEKLNQQRykdYko1ATQVYRApkIAsjq8iAViQAIdEJ6AA+qD63jyEQ3Wv2elrry+B0GrBHJj8Q0QINoZA68lErqMnLjWrR5H/Q+5/j3D2qIv50glRFzAAAAAElFTkSuQmCC\"","import { Text, View, FlatList, TouchableOpacity, Image, Modal } from 'react-native';\r\nimport { useState, useEffect } from 'react';\r\n\r\nimport * as DocumentPicker from 'expo-document-picker';\r\n\r\nimport styles from './styles';\r\n//import AddChat from './AddChat';\r\nimport getData from './getData';\r\nimport storeData from './storeData';\r\nimport dateSort from './dateSort';\r\nimport msgToObj from './msgToObj';\r\n\r\nimport removeData from './removeData';\r\nimport getArtistCode from './getArtistCode';\r\n\r\n\r\nvar myChatList;\r\n\r\nconst getMyChats = async (Artists) => {\r\n    myChatList = await getData('myChats');\r\n    //console.log('get my chats');\r\n    //console.log(myChatList);\r\n    let data = [];\r\n    if (myChatList != null) {\r\n        for (const code in myChatList){\r\n            //console.log(code);\r\n            data.push({\r\n                artist: Artists[code],\r\n                nickname: myChatList[code].nickname,\r\n                lastMessage: myChatList[code].lastMessage\r\n            });            \r\n        }\r\n    }\r\n    else {\r\n        myChatList={};\r\n    }\r\n    //console.log(data);\r\n    return data;\r\n}\r\n\r\n\r\n\r\nconst MyChats = ({ navigation, route }) =>{\r\n    Artists = route.params.Artists;\r\n    \r\n    const [data, setData] = useState([]);\r\n    const fetchData = async()=> {\r\n        setData( await getMyChats(Artists));\r\n    }\r\n\r\n    useEffect( ()=> {\r\n        fetchData();\r\n    },[]);\r\n    \r\n    const [modalVisible, setModalVisible] = useState(false);\r\n\r\n    const [txtParse, setTxtParse] = useState([]); \r\n    \r\n    const [newArtistNickname, setNewArtistNickname] = useState();\r\n\r\n    const _pickDocument = async () => {\r\n        let result = await DocumentPicker.getDocumentAsync({});\r\n        //console.log(result);\r\n        //setFileName(result.name)\r\n    \r\n        fetch(result.uri).then(function(response) {\r\n            response.text().then(function(text) {\r\n                let _nickname = text.match(/.*님/)[0];\r\n                setNewArtistNickname(_nickname.slice(0, _nickname.length-1).match(/[^\\[].*[^\\] ]/)[0]);\r\n\r\n                let tmp = text.split('\\n');\r\n                let tmp2 = [];\r\n                for (let i = 0; i < tmp.length; i++){\r\n                    // 마지막 글자 \\r 삭제\r\n                    tmp[i] = tmp[i].replace(/\\r$/, '');\r\n                    \r\n                    if(tmp[i].match(/^(?:20\\d{2}-\\d{2}-\\d{2} \\d{2}:\\d{2})/g) ){\r\n                        let e = tmp[i];\r\n                        while( tmp[i+1] ){\r\n                            if (tmp[i+1].match(/^(?:20\\d{2}-\\d{2}-\\d{2} \\d{2}:\\d{2})/g)){\r\n                                break;\r\n                            }\r\n                            else {\r\n                                e += ('\\n'+tmp[++i]);\r\n                            }\r\n                        }\r\n                        //console.log(e);\r\n                        tmp2.push(e)\r\n                    }\r\n                }\r\n                setTxtParse(tmp2);\r\n            });\r\n        });\r\n    }\r\n    \r\n    const _dataProcessing = () => {\r\n        //let tmp = txtParse[txtParse.length-1].split(' : ');\r\n        let lastMessage = txtParse[txtParse.length-1].split(' : ')[1];\r\n        \r\n        let name = txtParse[0].split(' : ')[0].split(', ')[1];\r\n        console.log(name);\r\n        let newArtistCode = getArtistCode(name);\r\n        console.log(newArtistCode);\r\n        \r\n        myChatList[newArtistCode] = {\r\n            nickname: newArtistNickname,\r\n            lastMessage: lastMessage\r\n        };\r\n        storeData({value: myChatList, storageKey: 'myChats'});\r\n\r\n        let txtObjArr = [];\r\n        console.log(newArtistCode);\r\n        txtParse.forEach( element => txtObjArr.push(msgToObj(element)) );\r\n        storeData({value: dateSort(txtObjArr), storageKey: newArtistCode})\r\n        // dataSort\r\n        //console.log(txtObjArr[0]);\r\n        //setData(dateSort(txtObjArr));\r\n\r\n        return newArtistCode;\r\n    }\r\n\r\n    const AddChat = () => {\r\n        return (\r\n            <View style={[{flex: 1, backgroundColor: '#00000055'},styles.centeredContainer]}>\r\n                <View style={styles.modal}>\r\n                    <Text style={styles.modalTitle}>내 채팅 불러오기</Text>\r\n                    <View style={[styles.centeredContainer, {flex:1}]}>\r\n                        <TouchableOpacity \r\n                            onPress={_pickDocument}>\r\n                            <Text style={styles.fileSelectButton}>파일 선택</Text>\r\n                        </TouchableOpacity>\r\n                        <Text style={newArtistNickname? {display: 'flex'}: {display: 'none'}}>\r\n                            {newArtistNickname}님과의 채팅\r\n                        </Text>\r\n                    </View>\r\n                    \r\n                    <View style={{flexDirection:'row'}}>\r\n                        <TouchableOpacity style={styles.buttonContainer}\r\n                            onPress={() => {\r\n                                setNewArtistNickname('');\r\n                                setTxtParse([]);\r\n                                setModalVisible(!modalVisible)\r\n                            }}\r\n                        >\r\n                            <Text style={styles.cancelButton}>취소</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity style={styles.buttonContainer}\r\n                            onPress={ () => {\r\n                                const newArtistCode = _dataProcessing();\r\n                                setModalVisible(!modalVisible); \r\n                                fetchData(); \r\n                                navigation.navigate('ChatRoom',{artist: Artists[newArtistCode], nickname: newArtistNickname, full: false, userName:''}); \r\n                            }}\r\n                        >\r\n                            <Text style={styles.okButton}>확인</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                </View>\r\n            </View>\r\n        )\r\n    }\r\n    \r\n    const renderItem = ({item}) => {\r\n        //console.log(item);\r\n        return (\r\n            <View style={{marginBottom: 15, height: 65}}>\r\n                <TouchableOpacity style={{flexDirection: 'row'}}\r\n                    onPress={ ()=> {navigation.navigate('ChatRoom',{artist: item.artist, nickname: item.nickname, full: false, userName:''})} }\r\n                >\r\n                    <View>\r\n                        <View style={styles.profileContainer}>\r\n                            <Image source={{uri: item.artist.profile}} \r\n                                style={styles.profile}\r\n                            />\r\n                        </View>\r\n                        <View style={{flex:1}}/>\r\n                    </View>\r\n                    \r\n                    <View style={{ marginLeft: 10, flex: 1}}>\r\n                        <Text style={{ fontWeight: 'bold', fontSize: 16, marginBottom: 2}}>\r\n                            {item.nickname}\r\n                        </Text>\r\n                        <Text style={{ color: 'darkgray', fontSize: 12 }}\r\n                            numberOfLines={2} ellipsizeMode='tail'>\r\n                            {item.lastMessage}\r\n                        </Text>\r\n                    </View>\r\n                </TouchableOpacity>\r\n            </View>\r\n        );\r\n    }\r\n    /*\r\n    <FlatList\r\n                data={data}\r\n                renderItem={renderItem}\r\n            />\r\n            */\r\n    return (\r\n        <View style={styles.container}>\r\n            <Modal\r\n                transparent={true}                \r\n                animationType=\"fade\"\r\n                visible={modalVisible}\r\n                onRequestClose={() => {\r\n                    setNewArtistNickname('');\r\n                    setTxtParse([]);\r\n                    setModalVisible(!modalVisible);\r\n                }}\r\n            >\r\n                <AddChat/>\r\n            </Modal>\r\n            <FlatList\r\n                data={data}\r\n                renderItem={renderItem}\r\n            />\r\n            <View style={styles.centeredContainer}>\r\n                <TouchableOpacity style={[styles.addButton, styles.centeredContainer]}\r\n                    onPress={() => {\r\n                        setModalVisible(!modalVisible);\r\n                    }}\r\n                >\r\n                    <Text style={styles.buttonText}>+</Text>\r\n                </TouchableOpacity>\r\n                <TouchableOpacity style={[styles.addButton, styles.centeredContainer]}\r\n                    onPress={()=>{removeData('myChats');}}>\r\n                    <Text style={styles.buttonText}>-</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n            \r\n        </View>\r\n    );\r\n}\r\n\r\nexport default MyChats;\r\n\r\n","import AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst storeData = async ({value, storageKey}) => {\r\n    try {\r\n      const jsonValue = JSON.stringify(value)\r\n      await AsyncStorage.setItem(storageKey, jsonValue)\r\n    } catch (e) {\r\n      // saving error\r\n    }\r\n}\r\n\r\nexport default storeData;","//\"date\": \"2020-08-28\"\r\nconst dateNotation = (date) => {\r\n    const dd = new Date(date);\r\n    const day = dd.getDay();\r\n    let dayStr;\r\n    switch (day){\r\n        case 0: \r\n            dayStr = '일요일'\r\n            break;\r\n        case 1: \r\n            dayStr = '월요일'\r\n            break;\r\n        case 2: \r\n            dayStr = '화요일'\r\n            break;\r\n        case 3: \r\n            dayStr = '수요일'\r\n            break;\r\n        case 4: \r\n            dayStr = '목요일'\r\n            break;\r\n        case 5: \r\n            dayStr = '금요일'\r\n            break;\r\n        case 6: \r\n            dayStr = '토요일'\r\n            break;\r\n    }\r\n    \r\n    return (dd.getFullYear()+'년 '+(dd.getMonth()+1)+'월 '+dd.getDate()+'일 '+dayStr);\r\n    \r\n}\r\n\r\nexport default dateNotation;","import dateNotation from './dateNotation' \r\n\r\nconst dateSort = (rawData) => {\r\n    const tmp = {};\r\n    rawData.forEach(element => {\r\n        if (tmp[element.date] == undefined) {\r\n            tmp[element.date] = {\r\n                message: [element.message]\r\n            };\r\n        } \r\n        else {\r\n            tmp[element.date].message.push(element.message);\r\n        }\r\n    });\r\n\r\n    let data = [];\r\n    for(const date in tmp) {\r\n        /*\r\n        const dateString = new Date(date);\r\n        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\r\n        console.log(dateString.toLocaleDateString(undefined, options));\r\n        */\r\n\r\n        // ref\r\n        /*\r\n            const dd = new Date();    \r\n            dd.toLocaleDateString(undefined, {year: \"numeric\", month: \"long\", day: \"numeric\", weekday: \"long\"})\r\n            >> '2023년 1월 1일 일요일' \r\n            dd.toLocaleTimeString(undefined, {hour12:true, hour: \"numeric\", minute: \"2-digit\"})\r\n            >>'오후 4:24'\r\n            \r\n            dd.setHours(dd.getHours()-12);\r\n        */\r\n        data.push({\r\n            date: dateNotation(date),\r\n            //date: dateString.toLocaleDateString(undefined, options),\r\n            data: messageSort(tmp[date].message)\r\n        });\r\n    }\r\n    //console.log(data[0]);\r\n    console.log('data sort done.');\r\n\r\n    return data;\r\n}\r\n\r\n\r\nconst messageSort = (messageArr) => {\r\n    let l = messageArr.length;\r\n    for (let i = 0; i < l - 1; i++){\r\n        if (messageArr[i].isMedia){\r\n            let index = 1, duplicated = false;\r\n            for ( let j = 1; j < l - i; j++) {\r\n                if (messageArr[i].content == messageArr[i+j].content){\r\n                    duplicated = true;\r\n                    messageArr[i+j].content = messageArr[i+j].content+'_'+index++;\r\n                }\r\n            }\r\n            if (duplicated){\r\n                messageArr[i].content = messageArr[i].content+'_'+'0';\r\n            }\r\n        }\r\n    }\r\n    return messageArr;\r\n}\r\n\r\nexport default dateSort;","const timeNotation = (temp) => {\r\n    var time;\r\n\r\n    switch(temp[5]){\r\n        case 'P': time='오후 '; break;\r\n        default: time='오전 ';\r\n    }\r\n    switch(temp[0]){\r\n        case '0': time += temp.slice(1, 5); break;\r\n        default: time += temp.slice(0, 5)\r\n    }\r\n\r\n    return time;\r\n    \r\n};\r\n\r\nexport default timeNotation;","const getTimestamp = (str) => {\r\n    var str2 = str.replace(' ', 'T')\r\n    var timestamp = new Date(str2.slice(0,16)+':00.000+09:00');\r\n    if (str.length != 16) {\r\n        if (str.slice(11,13) != '12' && str[16] == 'P') {\r\n            timestamp.setHours(timestamp.getHours()+12);\r\n        }\r\n        else if (str.slice(11,13) == '12' && str[16] == 'A') {\r\n            timestamp.setHours(timestamp.getHours()-12);\r\n        }\r\n    }\r\n    //console.log(timestamp);\r\n    //console.log(timestamp.toString());\r\n    //console.log(timestamp.toLocaleDateString(\"en-US\", {year: \"numeric\", month: \"long\", day: \"numeric\", weekday: \"long\"}));\r\n\r\n    return timestamp.valueOf();\r\n}\r\n\r\nexport default getTimestamp;","import timeNotation from './timeNotation.js'\r\nimport getTimestamp from './getTimestamp.js';\r\n\r\n\r\n// 2020-08-28 03:37PM, Yong Hwa : 하서영! 알로화!!! 반가워ㅠㅠ!! 잘지냈지?? 버블로 잘 지내보자!🤙🏾\r\nconst msgToObj = (msgStr) => {\r\n    let temp1 = msgStr.split(' : ');\r\n    let temp2 = temp1[0].split(', ');\r\n    let temp3 = temp2[0].split(' ');\r\n\r\n    let date = temp3[0];\r\n    let time = timeNotation(temp3[1]);\r\n    let fromArtist = temp2[1] != '나';\r\n    \r\n\r\n    //var type, content;\r\n    var isMedia = false, content = temp1[1];\r\n    if (temp1[2]){\r\n        //console.log(temp1.length);\r\n        for (let i = 2; temp1[i]; i++){\r\n            content += (' : '+temp1[i]);\r\n        }\r\n        //console.log(content);\r\n    }\r\n\r\n    if (content.includes('(사진)')) {\r\n        isMedia = true;\r\n        content = 'pic'+'_'+getTimestamp(temp2[0]);\r\n    }\r\n    else if (content.includes('(음성)') || content.includes('(음성 메시지)')) {\r\n        isMedia = true;\r\n        content = 'voice'+'_'+getTimestamp(temp2[0]);\r\n    }\r\n    else if (content.includes('(동영상)')) {\r\n        isMedia = true;\r\n        content = 'vid'+'_'+getTimestamp(temp2[0]);\r\n    }\r\n\r\n    return ({\r\n        date: date,\r\n        message: {\r\n            time: time,\r\n            isMedia: isMedia,\r\n            content: content,\r\n            fromArtist: fromArtist,\r\n        }\r\n    });\r\n}\r\n\r\nexport default msgToObj;","import AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst removeData = async (storageKey) => {\r\n    try {\r\n      await AsyncStorage.removeItem(storageKey)\r\n    } catch(e) {\r\n      // remove error\r\n    }\r\n  \r\n    console.log('Done.')\r\n}\r\n\r\nexport default removeData;","const getArtistCode = (name) => {\r\n    switch (name) {\r\n        // FTISLAND\r\n        /*\r\n        case '':\r\n            console.log('Artist: 이홍기'); \r\n            return ('LHG'); \r\n        case '':\r\n            console.log('Artist: 이재진'); \r\n            return ('LJJ'); \r\n        case '':\r\n            console.log('Artist: 최민환'); \r\n            return ('CMH'); \r\n        */\r\n\r\n        // CNBLUE\r\n        case 'Yong Hwa':\r\n            console.log('Artist: 정용화'); \r\n            return ('JYH'); \r\n        case '강민혁':\r\n            console.log('Artist: 강민혁 Code: KMH');\r\n            return ('KMH'); \r\n        case '정신오빠':\r\n            console.log('Artist: 이정신');\r\n            return ('LJS'); \r\n\r\n        // N.FLYING\r\n        case '혀비':\r\n            console.log('Artist: 이승협');\r\n            return ('LSH');\r\n        case '고먐미😸':\r\n            console.log('Artist: 차훈');\r\n            return ('CH');\r\n        case '김재똘':\r\n            console.log('Artist: 김재현'); \r\n            return ('KJH');\r\n        case '유말랑':\r\n            console.log('Artist: 유회승');\r\n            return ('YHS');\r\n        case '서동성 🥳':\r\n            console.log('Artist: 서동성');\r\n            return ('SDS');\r\n        \r\n        // AOA\r\n        case '이여름 그잡채':\r\n            console.log('Artist: 설현');\r\n            return ('SH');\r\n\r\n        //SF9\r\n    }\r\n};\r\n\r\nexport default getArtistCode;","import { Text, View, TouchableOpacity, Image } from 'react-native';\r\nimport { useState, useEffect } from 'react';\r\n\r\nimport { openURL } from 'expo-linking';\r\nimport styles from './styles';\r\n\r\nconst Message = ({content, media, userName}) => {\r\n    if (media) {\r\n        \r\n        const [picStyle, setPicStyle]=useState({});\r\n                \r\n        const getStyle = async (imageURL) => {\r\n            Image.getSize(imageURL, (Width, Height) => {\r\n                let ratio = Width/Height;\r\n                //console.log(ratio);\r\n                ratio >= 0.75 ? setPicStyle({width: 264, aspectRatio: ratio}) : setPicStyle({height: 352, aspectRatio: ratio});\r\n                }, (errorMsg) => {\r\n                console.log(errorMsg);\r\n            });\r\n        }\r\n\r\n        switch (media.type) {\r\n            case 'err':\r\n                return (\r\n                    <View style={{ marginRight:7 }}>\r\n                        <Text style={[{color: 'white', backgroundColor:'gray', borderTopLeftRadius: 0}, styles.text]}>\r\n                            삭제된 미디어\r\n                        </Text>\r\n                    </View>\r\n                );\r\n            \r\n            case 'pic':\r\n                useEffect(()=>{ \r\n                    //console.log(getStyle(uri));\r\n                    getStyle(media.url);\r\n                }, [])\r\n                \r\n                return (\r\n                    <TouchableOpacity onPress={()=>{openURL(media.download);}}>\r\n                        <View style={{ marginRight:7}}>\r\n                            <Image style={[{borderRadius: 15, borderTopLeftRadius: 0}, picStyle]}\r\n                            source={{uri: media.url}} />\r\n                        </View>\r\n                    </TouchableOpacity>\r\n                );\r\n                \r\n            case 'voice':\r\n                return (\r\n                    <TouchableOpacity onPress={()=>{openURL(media.download);}}>\r\n                        <View style={{ marginRight:7 }}>\r\n                            <View style={[{backgroundColor:'white', borderTopLeftRadius: 0, flexDirection: 'row'}, styles.text]}>\r\n                                <View  style={{borderColor: 'black', borderWidth: 2, width: 24, height: 24, borderRadius: 12, justifyContent: 'center', paddingLeft:2}}>\r\n                                    <Text style={{textAlign: 'center', fontSize:11}}>▶</Text>\r\n                                </View>\r\n                                <Text style={{fontSize:14.8, lineHeight:21}}> {media.length}</Text>\r\n                            </View>\r\n                        </View>\r\n                    </TouchableOpacity>\r\n                );\r\n            case 'vid':\r\n                useEffect(()=>{ \r\n                    getStyle(media.thumbnail);\r\n                }, [])\r\n                \r\n                return (\r\n                    <TouchableOpacity onPress={()=>{openURL(media.download);}}>\r\n                        <View style={{ marginRight:7 }}>\r\n                            <Image style={[{borderRadius: 15, borderTopLeftRadius: 0}, picStyle]}\r\n                            source={{uri: media.thumbnail}}/>\r\n                            <View style={[{backgroundColor: 'black', opacity: 0.4, \r\n                            top:0, position:'absolute', borderRadius: 15, borderTopLeftRadius: 0, alignItems:'center', justifyContent: 'center'}, picStyle]}>\r\n                                <View  style={{borderColor: 'white', borderWidth: 3, width: 36, height: 36, borderRadius: 18, justifyContent: 'center', paddingLeft:3}}>\r\n                                    <Text style={{color: 'white', textAlign: 'center', fontSize:18}}>▶</Text>\r\n                                </View>\r\n                            </View>\r\n                        </View>\r\n                    </TouchableOpacity>\r\n                );\r\n        }\r\n    }\r\n\r\n    else {\r\n        return (\r\n            <View style={{ marginRight:7 }}>\r\n                <Text style={[{color: 'black', backgroundColor:'white', borderTopLeftRadius: 0}, styles.text]}>\r\n                    {content.replace(/@@@/g, userName)}\r\n                </Text>\r\n            </View>\r\n        );\r\n    }\r\n    \r\n}\r\n\r\nconst ArtistChat = ({ item, artist, media, userName }) => {\r\n    //console.log(item);\r\n    return (\r\n        <View style={{flexDirection: 'row', marginVertical: 5}}>\r\n            <Image source={{uri: artist.profile}} style={styles.profileImg}/>\r\n            <View style={{marginHorizontal:5}}>\r\n                <Text style={styles.artistName}>{artist.name}</Text>\r\n                <View style={{flexDirection: 'row'}}>\r\n                    <Message content={item.content} media={media} userName={userName}/>\r\n                    <View>\r\n                        <View style={{flex: 1}}></View>\r\n                        <Text style={styles.time}>\r\n                            {item.time}\r\n                        </Text>\r\n                    </View>\r\n                </View>\r\n            </View>\r\n        </View>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport default ArtistChat;\r\n","import { Text, View } from 'react-native';\r\nimport styles from './styles';\r\n\r\nconst UserChat = ({item}) => {\r\n    return (\r\n        <View style={{flexDirection: 'row-reverse', marginVertical: 5}}>\r\n            <View style={{ marginLeft:7 }}>\r\n                <Text style={[{color: 'white', backgroundColor:'#555555',borderBottomRightRadius: 0}, styles.text]}>\r\n                    {item.content}\r\n                </Text>\r\n            </View>\r\n            <View>\r\n                <View style={{flex: 1}}/>\r\n                <Text style={styles.time}>\r\n                    {item.time}\r\n                </Text>\r\n            </View>\r\n        </View>\r\n    );\r\n}\r\n\r\nexport default UserChat;","import { Text, View, SectionList, TextInput, TouchableOpacity, Image, Alert, Modal } from 'react-native';\r\nimport { useState, useEffect, useRef } from 'react';\r\n\r\nimport getData from './getData';\r\n\r\nimport ArtistChat from './ArtistChat';\r\nimport UserChat from './UserChat';\r\nimport styles from './styles';\r\n//import getArtist from './getArtist';\r\n\r\n\r\n\r\nconst ChatRoom = ({ route }) => {\r\n    //const artist = getArtist(route.params.artist);\r\n    const artist = route.params.artist;\r\n    const userName = route.params.userName;\r\n    \r\n    const [data, setData] = useState([]);\r\n    const [media, setMedia] = useState({});\r\n\r\n    // getData from asyncStorage\r\n    // const storageKey = route.params.artist.code;\r\n    \r\n    const _fetchData = async () => {\r\n        if (route.params.full) {    //full chat\r\n            //setData(await getData(artist.code));\r\n            const url = \"https://raw.githubusercontent.com/hasy0224/Bubble/main/FullChat/\"+artist.code+\".json\";\r\n            try {\r\n                const response = await fetch(\r\n                    url,\r\n                );\r\n                const json = await response.json();\r\n                setData(json);\r\n                } catch (error) {\r\n                console.error(error);\r\n            }\r\n        }\r\n        else {  //user chat\r\n            setData(await getData(artist.code));\r\n        }\r\n\r\n        if (artist.hasMediaMeta){\r\n            const mediaUrl = \"https://raw.githubusercontent.com/hasy0224/Bubble/main/MediaDB/\"+artist.code+\".json\";\r\n            try {\r\n                const response = await fetch(\r\n                    mediaUrl,\r\n                );\r\n                const json = await response.json();\r\n                setMedia(json);\r\n                } catch (error) {\r\n                console.error(error);\r\n            }\r\n        }\r\n\r\n    }\r\n    useEffect ( ()=>{\r\n        //console.log(artist);\r\n        _fetchData();\r\n        \r\n    }, [] );\r\n    \r\n    const [sectionIndex, setSectionIndex] = useState(0);\r\n    const getSectionIndex = (dateStr) => {\r\n        for(let i = 0; i < data.length; i++){\r\n            if (data[i].date.includes(dateStr)) return i;\r\n        }\r\n    }\r\n    const dateSearch = (targetDate) => {\r\n        console.log(targetDate);\r\n        let i = getSectionIndex(targetDate);\r\n        \r\n        if (i < data.length){\r\n            setSectionIndex(i);\r\n            console.log(i);\r\n            setDateModal(!dateModal);\r\n        }\r\n        else Alert.alert('해당 날짜의 대화를 찾을 수 없습니다.')\r\n    }\r\n\r\n    const ref = useRef(null);\r\n\r\n    useEffect( () => { // Auto Scroll\r\n        if(data[sectionIndex]?.data){\r\n            ref.current?.scrollToLocation({\r\n                sectionIndex: sectionIndex,\r\n                itemIndex: 0,\r\n            });\r\n        }\r\n    }, [sectionIndex])\r\n    \r\n    \r\n    const [dateModal, setDateModal] = useState(false);\r\n    const DatePicker = () => {\r\n        var yy, mm, dd;\r\n        return (\r\n            <Modal\r\n                transparent={true}                \r\n                animationType=\"fade\"\r\n                visible={dateModal}\r\n                onRequestClose={() => {\r\n                    setDateModal(!dateModal);\r\n                }}\r\n            >\r\n                <View style={[{flex:1, backgroundColor: '#00000055'}, styles.centeredContainer]}>\r\n                    <View style={styles.modal}>\r\n                        <Text style={styles.modalTitle}>날짜 검색</Text>\r\n                        <View style={{flexDirection:'row', alignItems:'center', flex:1}}>\r\n                            <TextInput onChangeText={text=>{yy=text;}} \r\n                                style={[styles.textinput, {flex:2}]} \r\n                                placeholder={'yyyy'}\r\n                                maxLength={4} \r\n                                textAlign='left'\r\n                                inputMode='numeric'\r\n                                keyboardType='number-pad'\r\n                                returnKeyType='next' />\r\n                            <Text style={{margin:8}}>년</Text>\r\n                            <TextInput onChangeText={text=>{mm=text;}} \r\n                                style={[styles.textinput, {flex:1}]} \r\n                                placeholder={'mm'}\r\n                                maxLength={2}\r\n                                textAlign='left'\r\n                                inputMode='numeric'\r\n                                keyboardType='number-pad'\r\n                                returnKeyType='next' />\r\n                            <Text style={{margin:8}}>월</Text>\r\n                            <TextInput onChangeText={text=>{dd=text;}} \r\n                                style={[styles.textinput, {flex:1}]} \r\n                                placeholder={'dd'}\r\n                                maxLength={2}\r\n                                textAlign='left'\r\n                                inputMode='numeric'\r\n                                keyboardType='number-pad'/>\r\n                            <Text style={{margin:8}}>일</Text>\r\n                        </View>\r\n                        <View style={{flexDirection:'row'}}>\r\n                        <TouchableOpacity style={styles.buttonContainer}\r\n                            onPress={() => {\r\n                                setDateModal(!dateModal);\r\n                            }}\r\n                        >\r\n                            <Text style={styles.cancelButton}>취소</Text>\r\n                        </TouchableOpacity>\r\n                        <TouchableOpacity style={styles.buttonContainer}\r\n                            onPress={ () => {\r\n                                let targetDate = yy+'년 ';\r\n                                if (mm) {\r\n                                    if (dd) {\r\n                                        targetDate = targetDate+mm+'월 '+dd+'일';\r\n                                    }\r\n                                    else targetDate = targetDate+mm+'월 ';\r\n                                }\r\n                                dateSearch(targetDate);\r\n                            }}\r\n                        >\r\n                            <Text style={styles.okButton}>확인</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n                    </View>\r\n                </View>\r\n            </Modal>\r\n        )\r\n    }\r\n\r\n    // import media meta JSON\r\n    // switch media or not\r\n    // switch media type\r\n    const renderItem = ({ item }) => {\r\n        return ( item.fromArtist ? \r\n            ( item.isMedia && artist.hasMediaMeta ? \r\n            <ArtistChat item={item} artist={artist} media={media[item.content]} userName={userName}/>\r\n            : <ArtistChat item={item} artist={artist} media={false} userName={userName}/> )\r\n        : <UserChat item={item}/> );\r\n    }\r\n    \r\n    return(\r\n        <View style = {{backgroundColor: '#EEEEEE'}}>\r\n            <DatePicker/>\r\n            <SectionList\r\n                ref={ref}\r\n                onScrollToIndexFailed={ info => {\r\n                    console.log(info.index);\r\n                    console.log(info.averageItemLength);\r\n                    try{\r\n                        if(data[sectionIndex]?.data){\r\n                            ref.current?.scrollToLocation({\r\n                                sectionIndex: 0,\r\n                                itemIndex: 0,\r\n                                viewOffset: -(info.index * info.averageItemLength)\r\n                            });\r\n                        }\r\n                    }\r\n                    finally{\r\n                        const wait = new Promise(resolve => setTimeout(resolve, 500));\r\n                        wait.then( ()=>{\r\n                            if(data[sectionIndex]?.data){\r\n                                ref.current?.scrollToLocation({\r\n                                    sectionIndex: sectionIndex,\r\n                                    itemIndex: 0,\r\n                                    viewOffset: 0\r\n                                });\r\n                            }\r\n                        }) \r\n                    }\r\n                }}\r\n                sections={data}\r\n                renderItem={renderItem}\r\n                renderSectionHeader={ ({section: {date}}) => (<Text style={styles.date}>{date}</Text>) }\r\n                style={{paddingHorizontal: 10, marginBottom:60}}\r\n            /> \r\n            <View style={{width: '100%',height: 60, backgroundColor:'white', position:'absolute', bottom:0, padding:8}}>\r\n                <View style={{alignItems:'center', flexDirection:'row'}}>\r\n                <TouchableOpacity /*style={{borderColor:'red', borderWidth:1}}*/onPress={()=>{setDateModal(!dateModal)}}>\r\n                    <Image source={require('../assets/Calendar.png')} style={{width: 32, height:32}}/>\r\n                </TouchableOpacity>\r\n                <TextInput style={{height:40, flex:1, marginHorizontal: 7, padding: 10, borderRadius:20, backgroundColor:'#F5F5F5'}}\r\n                    placeholder={'검색어 입력'}/>\r\n                <TouchableOpacity /*style={{width: 40, height:40}}*/>\r\n                    <Image source={require('../assets/Search.png')} style={{width: 32, height:32}}/>\r\n                </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        </View>\r\n    )\r\n}\r\n\r\nexport default ChatRoom;"],"sourceRoot":""}